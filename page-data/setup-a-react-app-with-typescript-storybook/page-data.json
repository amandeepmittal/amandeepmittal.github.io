{"componentChunkName":"component---src-templates-post-js","path":"/setup-a-react-app-with-typescript-storybook","webpackCompilationHash":"c3a562291cd8e443a353","result":{"data":{"site":{"siteMetadata":{"title":"Aman Mittal - Fullstack Developer","description":"Aman Mittal - Developer and Technical writer.","author":{"name":"Aman Mittal"},"keywords":["Fullstack Developer"]}},"mdx":{"frontmatter":{"title":"How to Setup a React App with TypeScript, Storybook","date":"June 14, 2019","author":"Aman Mittal","banner":null,"slug":"setup-a-react-app-with-typescript-storybook","keywords":null},"code":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"setup-a-react-app-with-typescript-storybook\",\n  \"date\": \"2019-06-14T00:00:00.000Z\",\n  \"title\": \"How to Setup a React App with TypeScript, Storybook\",\n  \"categories\": [\"reactjs\"],\n  \"description\": \"---\",\n  \"published\": true,\n  \"author\": \"Aman Mittal\",\n  \"banner\": null\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://blog.crowdbotics.com/content/images/2019/06/typescript.jpg\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"If you are building web applications with ReactJS, you might have heard or used TypeScript. They say TypeScript is the missing part from JavaScript's ecosystem. I must say, I did not enjoy writing React apps in TypeScript at first. But over time, I have learned this valuable lesson that if you want to continue a project that has a focused development process, TypeScript should be the way to go. Including types and structures like interfaces as an extension of JavaScript help to make the development process more predictable and safer. TypeScript offers other benefits in the form of code suggestions in a workspace and highlights errors as early as possible too.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"In this tutorial, we are going to take a look at how to setup a React app that uses TypeScript along with Storybook.\"), \" It is targeted towards\\ndevelopers who are want to learn these two important tools of ReactJS development. It can be a bit of a hassle to setup a TypeScript and Storybook together in one project but this tutorial will walk you through a smooth process and will showcase you that it is not a hassle at all.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Tldr;\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Requirements\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Creating a new React app\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adding Storybook\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adding Storybook configuration\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"First Storybook Component\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Connecting Crowdbotics support to Your Github Repo\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Conclusion\")), mdx(\"h2\", null, \"Requirements\"), mdx(\"p\", null, \"In order to follow this tutorial, you must have:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"NodeJS \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"v8.x.x\"), \" or higher installed along with npm/yarn\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"create-react-app\"), \" installed globally to on your local dev machine generate a new React project\")), mdx(\"p\", null, \"Bonus: You can also, use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npx\"), \" to generate a new React project without installing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"create-react-app\"), \".\"), mdx(\"h2\", null, \"Creating a new React app\"), mdx(\"p\", null, \"To get started with a React project, generate one by running the below command in a terminal window\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"create-react-app hello-tsx-storybook --scripts-version=react-scripts-ts\\n\")), mdx(\"p\", null, \"This command will take a few moments to execute completely. Once the React + TypeScript project is generated you will get the following file structure. Notice how there some of the files in the root directory are TypeScript's configuration files and in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src\"), \" directory, where the magic happens, has component files (such as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.tsx\"), \") with an extension of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tsx\"), \" at the end of file name rather a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".js\"), \". This indicates that the component file now supports TypeScript.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://blog.crowdbotics.com/content/images/2019/05/ss1-3.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"To run the app in the current state, open command line interface, traverse inside the project root and run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm start\"), \". Once the webpack dev server starts, you will be directed to the URL \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:3000/\"), \" in a default web browser window with the following screen like below.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://blog.crowdbotics.com/content/images/2019/05/ss2-2.png\",\n    \"alt\": null\n  }))), mdx(\"h2\", null, \"Adding Storybook\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"a\", _extends({\n    parentName: \"strong\"\n  }, {\n    \"href\": \"https://storybook.js.org/docs/basics/introduction/\"\n  }), \"Storybook\")), \" is a user interface development environment for UI components. If you are building a UI and you want to showcase all or some of the functionalities of the individual components but totally isolated from the current app's lifecycle and dependencies.\"), mdx(\"p\", null, \"Storybook is available for many front-end frameworks and libraries such as \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://medium.com/crowdbotics/building-a-mern-stack-app-with-material-ui-33ff8ca4da01\"\n  }), \"ReactJS\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://medium.com/crowdbotics/learn-to-build-a-simple-progressive-web-app-pwa-with-angular-and-lighthouse-hacker-news-clone-51aca763032f\"\n  }), \"Angular\"), \", and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://medium.com/crowdbotics/how-to-build-a-real-time-logo-detection-app-with-react-native-google-vision-api-and-crowdbotics-9ed65fbcd15\"\n  }), \"React Native\"), \".\"), mdx(\"p\", null, \"To install Storybook as dev dependency for React, run the following command.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"yarn add --dev @storybook/react @types/storybook__react\\n\")), mdx(\"p\", null, \"Why install it as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"devDependency\"), \"? We won't require storybook and its use in the production build, ever. So it is better to stick with it in the development environment only. One this dependency is installed, you have to install some of the peer dependencies that are required. Two of them are \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-dom\"), \" which we already have installed. The rest of them can be installed using the below command.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"yarn add --dev babel-loader @babel/core\\n\")), mdx(\"p\", null, \"Lastly, there three more dependencies that are required just to compile TypeScript.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"yarn add --dev awesome-typescript-loader react-docgen-typescript-loader react-docgen-typescript-webpack-plugin\\n\")), mdx(\"h2\", null, \"Adding Storybook configuration\"), mdx(\"p\", null, \"Before we can make Storybook work, we need to add a few more things. Let us start by creating a new directory \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".storybook\"), \" in the root directory.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"mkdir .storybook\\n\")), mdx(\"p\", null, \"Inside this folder, there are several files that are required to be created.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"cd .storybook\\n\\ntouch addons.js config.js tsconfig.json webpack.config.js\\n\")), mdx(\"p\", null, \"The output of the above command is going to be:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://blog.crowdbotics.com/content/images/2019/05/ss3-3.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"For a basic Storybook configuration, the only thing you need to do is tell Storybook where to find stories and include the path inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".storybook/config.js\"), \". In our current scenario, we are going to stories inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/components\"), \" directory (\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"just a personal preference\"), \").\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import { configure } from '@storybook/react'\\n\\nconst req = require.context('../src/components', true, /.stories.tsx$/)\\nfunction loadStories() {\\n  req.keys().forEach(req)\\n}\\n\\nconfigure(loadStories, module)\\n\")), mdx(\"p\", null, \"Note, that, prior to this step, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components\"), \" directory inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src\"), \" did not exist. You will have to create that manually. The above snippet of code is to create a pattern such that all the stories match a particular glob. code is Next file that needs to be configured is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tsconfig.json\"), \" inside the storybook directory. This file is going to be responsible to compile stories from TypeScript to JavaScript. Add the following to this file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"compilerOptions\\\": {\\n    \\\"baseUrl\\\": \\\"./\\\",\\n    \\\"allowSyntheticDefaultImports\\\": true,\\n    \\\"module\\\": \\\"es2015\\\",\\n    \\\"target\\\": \\\"es5\\\",\\n    \\\"lib\\\": [\\\"es6\\\", \\\"dom\\\"],\\n    \\\"sourceMap\\\": true,\\n    \\\"allowJs\\\": false,\\n    \\\"jsx\\\": \\\"react\\\",\\n    \\\"moduleResolution\\\": \\\"node\\\",\\n    \\\"rootDir\\\": \\\"../\\\",\\n    \\\"outDir\\\": \\\"dist\\\",\\n    \\\"noImplicitReturns\\\": true,\\n    \\\"noImplicitThis\\\": true,\\n    \\\"noImplicitAny\\\": true,\\n    \\\"strictNullChecks\\\": true,\\n    \\\"declaration\\\": true\\n  },\\n  \\\"include\\\": [\\\"src/**/*\\\"],\\n  \\\"exclude\\\": [\\n    \\\"node_modules\\\",\\n    \\\"build\\\",\\n    \\\"dist\\\",\\n    \\\"scripts\\\",\\n    \\\"acceptance-tests\\\",\\n    \\\"webpack\\\",\\n    \\\"jest\\\",\\n    \\\"src/setupTests.ts\\\",\\n    \\\"**/*/*.test.ts\\\",\\n    \\\"examples\\\"\\n  ]\\n}\\n\")), mdx(\"p\", null, \"Lastly, add the following code inside the file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".storybook/webpack.config.js\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"module.exports = ({ config }) => {\\n  config.module.rules.push({\\n    test: /\\\\.(ts|tsx)$/,\\n    use: [\\n      {\\n        loader: require.resolve('awesome-typescript-loader'),\\n        options: {\\n          presets: [['react-app', { flow: false, typescript: true }]],\\n          configFileName: './.storybook/tsconfig.json'\\n        }\\n      },\\n      {\\n        loader: require.resolve('react-docgen-typescript-loader')\\n      }\\n    ]\\n  })\\n  config.resolve.extensions.push('.ts', '.tsx')\\n  return config\\n}\\n\")), mdx(\"p\", null, \"To complete the setup, open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" file and add the script to run the storybook interface.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"\\\"storybook\\\": \\\"start-storybook -p 4000 -c .storybook\\\"\\n\")), mdx(\"h2\", null, \"First Storybook Component\"), mdx(\"p\", null, \"In order to proceed and test our current setup to work as expected, let us write a new component and its story. Create a new file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Button.tsx\"), \" inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components\"), \" directory with the following code for the component itself.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-tsx\"\n  }), \"import * as React from 'react'\\n\\nexport interface IButtonProps {\\n  children?: React.ReactNode\\n  onClick?: (e: any) => void\\n}\\n\\nconst styles = {\\n  border: '1px solid #eee',\\n  borderRadius: 3,\\n  backgroundColor: '#FFFFFF',\\n  cursor: 'pointer',\\n  fontSize: 15,\\n  padding: '3px 10px',\\n  margin: 10\\n}\\n\\nconst Button: React.SFC<IButtonProps> = props => (\\n  <button onClick={props.onClick} style={styles} type=\\\"button\\\">\\n    {props.children}\\n  </button>\\n)\\n\\nButton.defaultProps = {\\n  children: null,\\n  onClick: () => {}\\n}\\nexport default Button\\n\")), mdx(\"p\", null, \"The above component is a stateless component (\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"aka functional component\"), \"). Now, while being inside the same directory, create another file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"button.stories.tsx\"), \" with the following snippet of code.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-tsx\"\n  }), \"import * as React from 'react'\\nimport { storiesOf } from '@storybook/react'\\nimport Button from './Button'\\n\\nstoriesOf('Button', module)\\n  .add('with text', () => <Button>Hello Button</Button>)\\n  .add('with some emoji', () => <Button>\\uD83D\\uDE00 \\uD83D\\uDE0E \\uD83D\\uDC4D \\uD83D\\uDCAF</Button>)\\n\")), mdx(\"p\", null, \"Go to the terminal window and run the script \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn run storybook\"), \". This will open a new window in your default web browser at URL: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:4000/?path=/story/button--with-text\"), \" with the following result.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://blog.crowdbotics.com/content/images/2019/05/ss4-2.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://blog.crowdbotics.com/content/images/2019/05/ss5-3.png\",\n    \"alt\": null\n  }))), mdx(\"h2\", null, \"Conclusion\"), mdx(\"p\", null, \"Kudos to you if have reached so far. You have configured Storybook work with TypeScript and wrote a story for a custom \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Button\"), \" component using the TypeScript. This tutorial was just an introduction. To dive deep inside the world of storybooks, I would recommend you to go through their official docs \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://storybook.js.org/docs/guides/guide-react/\"\n  }), \"here\"), \".\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://blog.crowdbotics.com/setup-a-react-app-with-typescript-storybook-and-crowdbotics/\"\n  }), \"Originally published at Crowdbotics\"))));\n}\n;\nMDXContent.isMDXComponent = true;"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"607caaad-f054-5307-bc59-05773c31c46d","prev":{"id":"c9c83976-f6b1-544e-a61a-5c7745e1b0a1","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"Crowdbotics App Builder  platform has a lot to offer when it comes to building an application. It helps both developers and non-developers to build, deploy, and scale applications by providing maintainable templates to make either your web or mobile…","fields":{"title":"How To Setup A Stripe Checkout Page From Scratch","slug":"how-to-setup-a-stripe-checkout-page-in-a-crowdbotics-app","date":"2019-06-17T00:00:00.000Z"},"code":{"scope":""}},"next":{"id":"970b1f57-b3f8-524b-a1da-87b0462e14ca","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"In the last few years, GraphQL becomes a popular choice to build an API. It serves a great alternative to the REST APIs approach. Not only it is an open source application-layer query language, in comparison to REST, GraphQL fulfills the approach…","fields":{"title":"Build a Twitter Clone Server with Apollo, GraphQL, Nodejs, and Crowdbotics","slug":"build-a-twitter-clone-server-with-apollo-graphql-nodejs","date":"2019-06-13T00:00:00.000Z"},"code":{"scope":""}}}}}