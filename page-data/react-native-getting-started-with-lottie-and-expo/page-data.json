{"componentChunkName":"component---src-templates-post-js","path":"/react-native-getting-started-with-lottie-and-expo","webpackCompilationHash":"c3a562291cd8e443a353","result":{"data":{"site":{"siteMetadata":{"title":"Aman Mittal - Fullstack Developer","description":"Aman Mittal - Developer and Technical writer.","author":{"name":"Aman Mittal"},"keywords":["Fullstack Developer"]}},"mdx":{"frontmatter":{"title":"React Native: Getting Started with Lottie and Expo","date":"March 09, 2018","author":"Aman Mittal","banner":null,"slug":"react-native-getting-started-with-lottie-and-expo","keywords":null},"code":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"react-native-getting-started-with-lottie-and-expo\",\n  \"date\": \"2018-03-09T00:00:00.000Z\",\n  \"title\": \"React Native: Getting Started with Lottie and Expo\",\n  \"categories\": [\"react native\"],\n  \"description\": \"---\",\n  \"published\": true,\n  \"author\": \"Aman Mittal\",\n  \"banner\": null\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/2560/1*1XY5UrlrTzTxOR6hgx7jnQ.jpeg\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"In this tutorial, we will be using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.lottiefiles.com/\"\n  }), \"Lottie\"), \" with React Native. Lottie is an opensource library that renders Adobe Effects by providing easy to use animations just like static images. These animations are beautiful. Lottie is a mobile library developed by AirBnB. These animations are exported as JSON files using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/airbnb/lottie-web\"\n  }), \"Bodymovin\"), \" to render the natively on mobile and in web applications.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\uD83D\\uDC4D for designers who spend their time contributing in LottieFiles.\"))), mdx(\"h3\", null, \"Requirements\"), mdx(\"p\", null, \"I will be using Expo XDE for brevity and to get started quickly. Create a new project using it. I am going to call \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rn-lottie-example\"), \" but you can call whatever you want.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*POyT_Icv07TuPXTE.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"When the XDE completes running ReactNative Package Manager and builds up the project, you can go to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Device\"), \" dropdown menu at the right and click on whichever simulator you have installed depending on the operations system you are using. Windows users please make sure you have android studio and necessary files installed and MacOS users, please have XCode installed or up to date.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*fX2Q-CxR1HRTvJA-.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"You can also view the application, by running it using Expo Client on your mobile device. Note that, depending on your internet connection, this can be slow and your mobile device and development machine must be on same wifi. Scan the QR code in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Share\"), \" section, you are ready to go. Once, the app is rendered, you will be welcomed by the default screen:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*MiGY3Fi2WDSbBXvP.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Now open your favorite text editor/IDE because we are going to start writing code in next section.\"), mdx(\"h3\", null, \"Getting Started\"), mdx(\"p\", null, \"Installing Lottie as a dependency in a project can a bit tricky but fortunately, Expo provides support for it. We do not have to install anything since we are using Expo. We directly import the dependency in our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import { DangerZone } from 'expo'\\nconst { Lottie } = DangerZone\\n\")), mdx(\"p\", null, \"Sine Lottie in Expo project is in Alpha mode, do not get worried by the word \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DangerZone\"), \".\"), mdx(\"p\", null, \"Include a local state in our application called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"animation\"), \". We will call this help in playing and restarting the animation itself. I am using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.lottiefiles.com/110-location\"\n  }), \"this file\"), \" for our animation from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://gist.github.com/www.lottiefiles.com\"\n  }), \"LottieFiles.com\"), \" so you can download it. Of course, you are free to choose any other. Animations listed on the site are open source.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"state = {\\n  animation: null\\n}\\n\")), mdx(\"p\", null, \"Later, we will using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"state.animation\"), \" to source the animation file fetched directly in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Lottie\"), \" component.\"), mdx(\"h3\", null, \"Defining the animation\"), mdx(\"p\", null, \"We will define two custom functions: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_playAnimation\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_loadAnimationAsync\"), \" that perform the animation and load the animation from the internet using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fetch\"), \" API. We will also be pre-mounting our animation using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"componentWillMount()\"), \" method available to us by core React. In this Life cycle method, when the state is set, it can be called before the initial render.\"), mdx(\"p\", null, \"In general, it is used to prepare either the first render or update the state before the render. This is why we are using it. We need to update the state we defined.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"componentWillMount() {\\n    this._playAnimation();\\n  }\\n\\n  _playAnimation = () => {\\n    if (!this.state.animation) {\\n      this._loadAnimationAsync();\\n    } else {\\n      this.animation.reset();\\n      this.animation.play();\\n    }\\n  };\\n\\n  _loadAnimationAsync = async () => {\\n    let result = await fetch(\\n      'https://www.lottiefiles.com/storage/datafiles/a795e9d1bd5672fd901329d51661db5c/JSON/location.json'\\n    );\\n\\n     this.setState(\\n      { animation: JSON.parse(result._bodyText) },\\n      this._playAnimation\\n    );\\n  };\\n\")), mdx(\"p\", null, \"Inside, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_loadAnimationAsync()\"), \" we use JavaScript's \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fetch\"), \" API to get the animation from its source. This does mean, that the animation is coming from internet so if you are testing on your mobile device, make sure you have access to internet.\"), mdx(\"p\", null, \"This how our render function looks like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"render() {\\n    return (\\n      <View style={styles.container}>\\n        <View style={styles.animationContainer}>\\n          {this.state.animation && (\\n            <Lottie\\n              ref={animation => {\\n                this.animation = animation;\\n              }}\\n              style={styles.loadingAnimation}\\n              source={this.state.animation}\\n            />\\n          )}\\n        </View>\\n      </View>\\n    );\\n  }\\n\")), mdx(\"p\", null, \"We separately define styling for the overall container and the animation. To load the animation, we will set its \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"backgroundColor\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"transparent\"), \" in order to remove any background color it has by default.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const styles = StyleSheet.create({\\n  container: {\\n    flex: 1,\\n    backgroundColor: '#fff',\\n    alignItems: 'center',\\n    justifyContent: 'center'\\n  },\\n  animationContainer: {\\n    backgroundColor: '#fff',\\n    alignItems: 'center',\\n    justifyContent: 'center',\\n    flex: 1\\n  },\\n  loadingAnimation: {\\n    width: 400,\\n    height: 400,\\n    backgroundColor: 'transparent'\\n  }\\n})\\n\")), mdx(\"p\", null, \"You can see the application working\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*ojXTyWvdJ70ut1Yl.gif\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"This tutorial shows how you can get started with Lottie animation library using React Native and Expo. There are other ways to define animations and you can go in-depth as much as you want. This article is written for a beginner\\u2019s point of view.\"), mdx(\"p\", null, \"For alternative to Lottie, you can check \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/facebookincubator/Keyframes\"\n  }), \"Facebook\\u2019s Keyframes\"), \" that also uses Adobe After Effects to create one.\"), mdx(\"p\", null, \"Complete code of our demo application:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport { StyleSheet, Text, View } from 'react-native'\\nimport { DangerZone } from 'expo'\\nconst { Lottie } = DangerZone\\n\\nexport default class App extends React.Component {\\n  state = {\\n    animation: null\\n  }\\n\\n  componentWillMount() {\\n    this._playAnimation()\\n  }\\n\\n  _playAnimation = () => {\\n    if (!this.state.animation) {\\n      this._loadAnimationAsync()\\n    } else {\\n      this.animation.reset()\\n      this.animation.play()\\n    }\\n  }\\n\\n  _loadAnimationAsync = async () => {\\n    let result = await fetch(\\n      'https://www.lottiefiles.com/storage/datafiles/a795e9d1bd5672fd901329d51661db5c/JSON/location.json'\\n    )\\n\\n    this.setState(\\n      { animation: JSON.parse(result._bodyText) },\\n      this._playAnimation\\n    )\\n  }\\n\\n  render() {\\n    return (\\n      <View style={styles.container}>\\n        <View style={styles.animationContainer}>\\n          {this.state.animation && (\\n            <Lottie\\n              ref={animation => {\\n                this.animation = animation\\n              }}\\n              style={styles.loadingAnimation}\\n              source={this.state.animation}\\n            />\\n          )}\\n        </View>\\n      </View>\\n    )\\n  }\\n}\\n\\nconst styles = StyleSheet.create({\\n  container: {\\n    flex: 1,\\n    backgroundColor: '#fff',\\n    alignItems: 'center',\\n    justifyContent: 'center'\\n  },\\n  animationContainer: {\\n    backgroundColor: '#fff',\\n    alignItems: 'center',\\n    justifyContent: 'center',\\n    flex: 1\\n  },\\n  loadingAnimation: {\\n    width: 400,\\n    height: 400,\\n    backgroundColor: 'transparent'\\n  }\\n})\\n\")), mdx(\"p\", null, \"You can also find the complete code at this \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/amandeepmittal/rn-lottie-example\"\n  }), mdx(\"strong\", {\n    parentName: \"a\"\n  }, \"Github repo\")), mdx(\"strong\", {\n    parentName: \"p\"\n  }, \",\"), \" in case you just want to play around this\\xA0concept.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://medium.com/hackernoon/react-native-getting-started-with-lottie-and-expo-8b2105fbb496\"\n  }), \"Originally this article was published on Hackernoon.com\"))));\n}\n;\nMDXContent.isMDXComponent = true;"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"e730b7fa-2aff-59b0-8393-0edc63900718","prev":{"id":"7d67bc05-2e9b-59de-bdb0-c12d4aecb2b4","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"Don’t wait. The time will never be just right. - Napoleon Hill Lack of confidence is one of the reasons why bloggers don’t publish their posts. Especially, in this age of information overload, we tend to gather much information without much effort…","fields":{"title":"Boost Your Blogging Confidence and Write that Post","slug":"boost-your-blogging-confidence-and-write-that-post","date":"2018-03-13T00:00:00.000Z"},"code":{"scope":""}},"next":{"id":"f0cb9429-8846-59fe-8c33-0aeabc0ba89d","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"In 2017, I started my voracious reading journey with the word “productivity” in mind. In my workflow, I wanted to be as productive as I could but later realise that it has its limitations. First limitation that I come across as I continued on my path…","fields":{"title":"What to Read in 2018? A List of books worth your time","slug":"what-to-read-in-2018-a-list-of-books-worth-your-time","date":"2018-02-23T00:00:00.000Z"},"code":{"scope":""}}}}}