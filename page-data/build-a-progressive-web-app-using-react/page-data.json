{"componentChunkName":"component---src-templates-post-js","path":"/build-a-progressive-web-app-using-react","webpackCompilationHash":"c3a562291cd8e443a353","result":{"data":{"site":{"siteMetadata":{"title":"Aman Mittal - Fullstack Developer","description":"Aman Mittal - Developer and Technical writer.","author":{"name":"Aman Mittal"},"keywords":["Fullstack Developer"]}},"mdx":{"frontmatter":{"title":"Build a Progressive Web App using React","date":"February 01, 2018","author":"Aman Mittal","banner":null,"slug":"build-a-progressive-web-app-using-react","keywords":null},"code":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"build-a-progressive-web-app-using-react\",\n  \"date\": \"2018-02-01T00:00:00.000Z\",\n  \"title\": \"Build a Progressive Web App using React\",\n  \"categories\": [\"reactjs\"],\n  \"description\": \"---\",\n  \"published\": true,\n  \"author\": \"Aman Mittal\",\n  \"banner\": null\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*XpoxJqEJoKbYq1dKnx3JMQ.jpeg\",\n    \"alt\": null\n  }))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Progressive Web App with React!\"), \" When I read this I thought, why not build one ourselves. If you are familiar with React and a bit about its ecosystem such as Create-React-App utility, this guide is for you.\"), mdx(\"p\", null, \"If you spend at least third quarter of your day on internet then you have seen or read about progressive web apps here and there. \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"No?\"), \" PWA are performance focused web applications that are especially streamlined for a mobile device. They can be saved over a device\\u2019s home screen and tend to consist a native app feel and look. The first PWA app I used on my mobile device is the Lite Twitter one which got released a few months back. Here is the link if you want to try: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://lite.twitter.com/\"\n  }), \"https://lite.twitter.com/\"), \". They even support push notifications and offline support these days.\"), mdx(\"h3\", null, \"Getting Started\"), mdx(\"p\", null, \"Let us create a basic React app using \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Create-React-App\"), \" generator, the official scaffolding tool to generate \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Reactjs\"), \" \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"App\"), \" released and maintained by \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Facebook\"), \". To install it, we will use our command line tool:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm install --global create-react-app\\n``\\n\\nOnce the installation process is complete, go to your desired directory and create an empty project. Run this from your command-line interface:\\n\\n```shell\\ncreate-react-app react-pwa-example\\n\\n# and cd in that directory\\ncd react-pwa-example\\n\")), mdx(\"p\", null, \"Go ahead and take a look at the directory structure and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" file. See what dependencies come with this scaffolding tool.\"), mdx(\"p\", null, \"CRA or Create React App is one of the best with minimum hassle tool that I am currently using to build apps and prototypes with React. It is running all that Babel, Webpack stuff behind the scenes. If you want more information or want to customize the process, read \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#npm-run-eject\"\n  }), \"here\"), \".\"), mdx(\"p\", null, \"I hope, regardless of the timeline, your package.json file looks like this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"name\\\": \\\"react-pwa-app\\\",\\n  \\\"version\\\": \\\"0.1.0\\\",\\n  \\\"private\\\": true,\\n  \\\"dependencies\\\": {\\n    \\\"react\\\": \\\"^16.2.0\\\",\\n    \\\"react-dom\\\": \\\"^16.2.0\\\",\\n    \\\"react-scripts\\\": \\\"1.0.17\\\"\\n  },\\n  \\\"scripts\\\": {\\n    \\\"start\\\": \\\"react-scripts start\\\",\\n    \\\"build\\\": \\\"react-scripts build\\\",\\n    \\\"test\\\": \\\"react-scripts test --env=jsdom\\\",\\n    \\\"eject\\\": \\\"react-scripts eject\\\"\\n  }\\n}\\n\")), mdx(\"p\", null, \"We need to one more dependency and that is React-Router: Go Back to your terminal:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm install --save react-router-dom@4.2.2\\n\")), mdx(\"p\", null, \"You can now try running the application from terminal and see if everything is working:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm run start\\n\")), mdx(\"p\", null, \"The boilerplate code will and look like this:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*xXq22kL5K08_ksMi.png\",\n    \"alt\": null\n  }))), mdx(\"h3\", null, \"Building the PWA\\xA0App\"), mdx(\"p\", null, \"Since the sole purpose of this guide is to make you familiar with the build process, I am not going to work out a complex application. For sake of simplicity and your precious time, we will build a simple app. Go to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/App.js\"), \" file and make amendments exactly like below:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React, { Component } from 'react'\\nimport { BrowserRouter, Route, Link } from 'react-router-dom'\\nimport logo from './logo.svg'\\nimport './App.css'\\nimport Home from './components/Home'\\nimport About from './components/About'\\n\\nclass App extends Component {\\n  render() {\\n    return (\\n      <div className=\\\"App\\\">\\n        <div className=\\\"App-header\\\">\\n          <img src={logo} className=\\\"App-logo\\\" alt=\\\"logo\\\" />\\n          <h2>React App</h2>\\n        </div>\\n        <BrowserRouter>\\n          <div>\\n            <Route path=\\\"/\\\" exact component={Home} />\\n            <Route path=\\\"/about\\\" exact component={About} />\\n          </div>\\n        </BrowserRouter>\\n      </div>\\n    )\\n  }\\n}\\nexport default App\\n\")), mdx(\"p\", null, \"In above we are including two pages using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-router-dom.\"), \"Further we define \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Home\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"About\"), \" Components in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/components/\"), \" directory. It is always a best practice to use this approach and make sure that react components are short and readable.\"), mdx(\"p\", null, \"For \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Home.js\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport { Link } from 'react-router-dom'\\n\\nconst home = () => {\\n  return (\\n    <div title=\\\"Home\\\">\\n      <h1>Home Page</h1>\\n      <p>\\n        <Link to=\\\"/about\\\">About</Link>\\n      </p>\\n    </div>\\n  )\\n}\\n\\nexport default home\\n\")), mdx(\"p\", null, \"And for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"About.js\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport { Link } from 'react-router-dom'\\n\\nconst about = () => {\\n  return (\\n    <div title=\\\"About\\\">\\n      <h1>About Page</h1>\\n      <p>\\n        <Link to=\\\"/\\\">Home</Link>\\n      </p>\\n    </div>\\n  )\\n}\\n\\nexport default about\\n\")), mdx(\"p\", null, \"Now to see if everything working, run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm start\"), \" from your terminal window, and you will get a similar result:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*SE5B6rftfSPJcp1r.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"If you click on the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"About\"), \" button/hyperlink, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-router-dom\"), \" will render the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"about\"), \" page without changing the common Header part that is defined in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \". This is a bare minimum single page application.\"), mdx(\"p\", null, \"Our main job is still yet to be done. Let\\u2019s convert this bare minimum React application to a PWA.\"), mdx(\"h3\", null, \"Installing Lighthouse\"), mdx(\"p\", null, \"Lighthouse is a free tool from Google that evaluates your app based on their PWA checklist. Add it to your Chrome browser from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developers.google.com/web/tools/lighthouse/\"\n  }), \"here\"), \". Once installed as an extension we can start the auditiing process by clicking on the Lighthouse at top right corner where other extension might exist in your browser. Click on the icon and then make sure you are on right tab by checking the URL shown in the lighthouse popup. Also, make sure that development server of Create-react-app from terminal is running. Otherwise Lighthouse won\\u2019t be able to generate report. The report that is generated by the Lighthouse is based on a checklist that available to view \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developers.google.com/web/progressive-web-apps/checklist\"\n  }), \"here\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*8SEBZU5Y9QznNSIQ.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Click on the Generate Report button. After the process is completed, a new window will open where Lighthouse has generated a report. By the looks of it, it does not look pleasing to the Lighthouse and as a Progressive Web App.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*Ook8Izy0ZTGkSlUh.png\",\n    \"alt\": null\n  })), \"\\n\", mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*7UtyUGjJlxP-hfXX.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"We will be solving these issues one by one.\"), mdx(\"h3\", null, \"Setting up a Service\\xA0Worker\"), mdx(\"p\", null, \"Let\\u2019s setup a service worker first. That is the first thing Lighthouse audited. What is a service worker, you ask? Well, it is a proxy server that sit between web applications, browsers and the network. We can use it to make React Apps work offline (remember the earlier point we discussed. Progressive Web Apps are focused on performance). You can definitey read details about it on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developers.google.com/web/fundamentals/primers/service-workers/?hl=en\"\n  }), \"Google\\u2019s Web Fundamental Docs\"), \".\"), mdx(\"p\", null, \"It is a two step process. First we will create a\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"service-worker.js\"), \" file (service worker, after all is JavaScript code) and then register that worker in our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \".\"), mdx(\"p\", null, \"In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"public\"), \" directory of our app strucutre, create a file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"service-worker.js\"), \". I am going to use Addy Osmani's service worker configuraiton and I will recommend you to do so, at least for this one. You can find the complete thing in much much detail \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://medium.com/@addyosmani/progressive-web-apps-with-react-js-part-3-offline-support-and-network-resilience-c84db889162c\"\n  }), \"here\"), \". To continue, make sure you add the following code in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"service-worker.js\"), \" file:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"var doCache = false\\n\\nvar CACHE_NAME = 'my-pwa-cache-v1'\\n\\nself.addEventListener('activate', event => {\\n  const cacheWhitelist = [CACHE_NAME]\\n  event.waitUntil(\\n    caches.keys().then(keyList =>\\n      Promise.all(\\n        keyList.map(key => {\\n          if (!cacheWhitelist.includes(key)) {\\n            console.log('Deleting cache: ' + key)\\n            return caches.delete(key)\\n          }\\n        })\\n      )\\n    )\\n  )\\n})\\n\\nself.addEventListener('install', function(event) {\\n  if (doCache) {\\n    event.waitUntil(\\n      caches.open(CACHE_NAME).then(function(cache) {\\n        fetch('manifest.json')\\n          .then(response => {\\n            response.json()\\n          })\\n          .then(assets => {\\n            const urlsToCache = ['/', assets['main.js']]\\n            cache.addAll(urlsToCache)\\n            console.log('cached')\\n          })\\n      })\\n    )\\n  }\\n})\\n\\nself.addEventListener('fetch', function(event) {\\n  if (doCache) {\\n    event.respondWith(\\n      caches.match(event.request).then(function(response) {\\n        return response || fetch(event.request)\\n      })\\n    )\\n  }\\n})\\n\")), mdx(\"p\", null, \"Our next step is to register the our service worker by loading the one we just wrote in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"service-worker.js\"), \". Add this before the closing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"</body>\"), \" tag in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<script>\\n  if ('serviceWorker' in navigator) {\\n    window.addEventListener('load', function() {\\n      navigator.serviceWorker\\n        .register('service-worker.js')\\n        .then(\\n          function(registration) {\\n            console.log(\\n              'ServiceWorker registration successful with scope: ',\\n              registration.scope\\n            )\\n          },\\n          function(err) {\\n            console.log('ServiceWorker registration failed: ', err)\\n          }\\n        )\\n        .catch(function(err) {\\n          console.log(err)\\n        })\\n    })\\n  } else {\\n    console.log('service worker is not supported')\\n  }\\n</script>\\n\")), mdx(\"p\", null, \"Make sure you restart the dev server by running \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm run start\"), \" from the terminal. You must see this line if you open Chrome's DevTools > Console:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*oejtKDY7k0TG1mX5.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"If we run the Lighthouse audit process again, I hope we will get a better result.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*Iwa1NpJVNqoBNisC.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Yes, you can clearly compare the above with our previous audit. It has imporved, and our previous first issue is now coming under Passed Audits. Now let\\u2019s move and add some enhancement.\"), mdx(\"h3\", null, \"Adding Progressive Enhancement\"), mdx(\"p\", null, \"Progressive Enhancement is way to improve the app/site since it will work without any JavaScript loading. Now, we want to display a loading message and some CSS or none (your choice) before the React app initializes the DOM. Let\\u2019s add a the required CSS and a loading message to our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \". To increase performance, I am also adding all our CSS (that is CSS contained inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.css\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.css\"), \") in our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \" file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n\\n<head>\\n  <meta charset=\\\"utf-8\\\">\\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1, shrink-to-fit=no\\\">\\n  <meta name=\\\"theme-color\\\" content=\\\"#000000\\\">\\n  <link rel=\\\"manifest\\\" href=\\\"%PUBLIC_URL%/manifest.json\\\">\\n  <link rel=\\\"shortcut icon\\\" href=\\\"%PUBLIC_URL%/favicon.ico\\\">\\n  <title>React App</title>\\n  <style type=\\\"text/css\\\">\\n    body {\\n      margin: 0;\\n      padding: 0;\\n      font-family: sans-serif;\\n    }\\n    .App {\\n      text-align: center;\\n    }\\n    .App-logo {\\n      height: 80px;\\n    }\\n    .App-header {\\n      background-color: #222;\\n      height: 150px;\\n      padding: 20px;\\n      color: white;\\n    }\\n    .App-title {\\n      font-size: 1.5em;\\n    }\\n    .App-intro {\\n      font-size: large;\\n    }\\n    @keyframes App-logo-spin {\\n      from {\\n        transform: rotate(0deg);\\n      }\\n      to {\\n        transform: rotate(360deg);\\n      }\\n    }\\n  </style>\\n</head>\\n\\n<body>\\n  <div id=\\\"root\\\">\\n    <div class=\\\"App\\\">\\n      <p>\\n        Loading...\\n      </p>\\n    </div>\\n\\n    <script>\\n      if ('serviceWorker' in navigator) {\\n        window.addEventListener('load', function () {\\n          navigator.serviceWorker.register('service-worker.js').then(function (registration) {\\n            console.log('ServiceWorker registration successful with scope: ', registration.scope);\\n          }, function (err) {\\n            console.log('ServiceWorker registration failed: ', err);\\n          }).catch(function (err) {\\n            console.log(err)\\n          });\\n        });\\n      } else {\\n        console.log('service worker is not supported');\\n      }\\n    </script>\\n\\n</body>\\n\\n</html>\\n\")), mdx(\"p\", null, \"We can now delete \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.css\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.css\"), \" file from out project directory and also remove their import references from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.js\"), \".\"), mdx(\"p\", null, \"The above process improves the performance of our app by 10 points. The overall PWA score is same though:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*5DNjvcDw_2dyFeqr.png\",\n    \"alt\": null\n  }))), mdx(\"h3\", null, \"Adding it to Device\\u2019s Home\\xA0Screen\"), mdx(\"p\", null, \"The creators of create-react-app is so good to us that they have already included a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"manifest.json\"), \" file in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"public\"), \" directory with some basic configuration. This feature that we are currently adding allows a user to save our PWA site page on their device's home screen. In future, if the user wish to open the app, they can do that just by using PWA as a normal application and it will open in their phone's default browser.\"), mdx(\"p\", null, \"For this purpose, we are going to edit \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"public/manifest.json\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"short_name\\\": \\\"PWA React App\\\",\\n  \\\"name\\\": \\\"Progressive React App Example\\\",\\n  \\\"icons\\\": [\\n    {\\n      \\\"src\\\": \\\"logo.png\\\",\\n      \\\"sizes\\\": \\\"192x192\\\",\\n      \\\"type\\\": \\\"image/png\\\"\\n    },\\n    {\\n      \\\"src\\\": \\\"logo-512.png\\\",\\n      \\\"sizes\\\": \\\"512x512\\\",\\n      \\\"type\\\": \\\"image/png\\\"\\n    }\\n  ],\\n  \\\"start_url\\\": \\\"/\\\",\\n  \\\"display\\\": \\\"standalone\\\",\\n  \\\"theme_color\\\": \\\"#000\\\",\\n  \\\"background_color\\\": \\\"#000\\\"\\n}\\n\")), mdx(\"p\", null, \"Let\\u2019s talk about this file a bit. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"short_name\"), \" is the name of app that will appear on Home Screen of device. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \" will appear on the splash screen. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"icons\"), \" is important and is the main icon of our app and will appear along the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"short_name\"), \" on home screen, just like a native mobile application. The size of the icon must be \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"192x192\"), \". I haven't played around with other image formats but you can. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://i.imgur.com/RaN7Qey.png\"\n  }), \"Here\"), \" is the link to a dummy logo for this walkthrough we are working on. Add it to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"public\"), \" directory. The 512 setting is for splash screen and is a requirement in auditing process. So here is the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://i.imgur.com/TmblrhM.png\"\n  }), \"link\"), \" to download that.\"), mdx(\"p\", null, \"Next is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"start_url\"), \" that notifies that the app was started frome Home Screen. Below it there are three more properties. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"display\"), \" is for the appearance of the app, and I am making \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"theme_color\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"background_color\"), \" to be same since I want the application to match header background.\"), mdx(\"p\", null, \"We will now solve one of our issue in the previous audit. We are left with only some of them to resolve.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*52QWSRvTQbPulbsP.png\",\n    \"alt\": null\n  }))), mdx(\"h3\", null, \"Deployment\"), mdx(\"p\", null, \"First, let us turn the caching on. In \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"service-worker.js\"), \" edit the first line and change the existing boolean value to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"var doCache = true\\n\")), mdx(\"p\", null, \"I will be using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://firebase.google.com/\"\n  }), \"Firebase\"), \" here for deployment since it is easy to connect it with a web/mobile application for prototyping IMO. First, in Firebase console, create a new project \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pwa-example-1\"), \". Now, install the firebase-tool we need to deploy our PWA app. We will be installing this dependency as a global module.\"), mdx(\"p\", null, \"Now the CLI tool will prompt for some questions. I am adding a series of images for clarity, make sure you choose the same answers when prompted.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm install -g firebase-tools\\n\\n# then run the following commands\\nfirebase login\\nfirebase init\\n\")), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*ttYQKO2zGZ2y9tPw.png\",\n    \"alt\": null\n  })), \"\\n\", mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*VDnBEn27Y1CwrgIK.png\",\n    \"alt\": null\n  })), \"\\n\", mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*3_GpBVHfkuuB80KX.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Press the Enter key for final time and you will get a success message and two firebase config files generated in your project directory:\\xA0\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".firebaserec\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"firebase.json\"), \".\"), mdx(\"p\", null, \"Now, it is time to deploy our app. From terminal run:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm run build && firebase deploy\\n\")), mdx(\"p\", null, \"The above command tells create-react-app to build our project into the build/ folder, which Firebase CLI tool then deploys. Firebase CLI tool will give you back a URL, save it and open it in Chrome, and then run our Lighthouse audit for the last time. The hosting url will be similar to below:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"Hosting URL: https://pwa-example-1.firebaseapp.com\\n\")), mdx(\"p\", null, \"This solves our main issue from starting regarding using HTTTPS over HTTP. With that, all of our issues our solved and our PWA app gets 100/100 score.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*6yUY_04x-HofVmwz.png\",\n    \"alt\": null\n  })), \"\\n\", mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/0*uPXMbvXc7jcmv6wI.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"The score looks good to me for our first application. The performance bar above of our application can be improved and there are few ways to that. I will not get into that since the scope of this application is for learning purpose.\"), mdx(\"p\", null, \"You can find the complete code at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/amandeepmittal/react-pwa-app\"\n  }), \"this Github repository\"), \". Go ahead to clone the repo, don\\u2019t forget to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm install\"), \" once inside the project directory and then head start by trying out aforementioned PWA tips and techniques.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.zeolearn.com/magazine/an-introduction-to-progressive-web-apps-pwa\"\n  }), \"Originally this article was published on Zeolearn.com\"))));\n}\n;\nMDXContent.isMDXComponent = true;"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"04ef9f5f-982a-52a5-b284-d7497fcbaa36","prev":{"id":"3e807ba2-f28e-5847-b476-7548dfb6ee8f","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"The month of February has been a too much of an hassle for me. At the start of the month, I was busy working and launching my book on blogging called  A Blogger’s Manifesto  which is a short ebook about blogging that talks about my journey in the…","fields":{"title":"What have I been upto in February 2018","slug":"what-have-i-been-upto-in-february-2018","date":"2018-02-22T00:00:00.000Z"},"code":{"scope":""}},"next":{"id":"e4adece1-850c-5344-a9b2-b2bbb29d1e35","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"Nodejs is a remarkable technology for the fulfilling and developing web applications. Being open source and in the past few years, we have seen it rising. It might be a bit different from other traditional web technologies in terms of learning curve…","fields":{"title":"Designing a REST API with Node.js and MongoDB Atlas","slug":"designing-a-rest-api-with-node-js-and-mongodb-atlas","date":"2018-01-22T00:00:00.000Z"},"code":{"scope":""}}}}}