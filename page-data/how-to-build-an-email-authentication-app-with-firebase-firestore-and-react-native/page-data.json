{"componentChunkName":"component---src-templates-post-js","path":"/how-to-build-an-email-authentication-app-with-firebase-firestore-and-react-native","webpackCompilationHash":"c3a562291cd8e443a353","result":{"data":{"site":{"siteMetadata":{"title":"Aman Mittal - Fullstack Developer","description":"Aman Mittal - Developer and Technical writer.","author":{"name":"Aman Mittal"},"keywords":["Fullstack Developer"]}},"mdx":{"frontmatter":{"title":"How to build an Email Authentication app with Firebase, Firestore, and React Native","date":"June 28, 2019","author":"Aman Mittal","banner":null,"slug":"how-to-build-an-email-authentication-app-with-firebase-firestore-and-react-native","keywords":null},"code":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"how-to-build-an-email-authentication-app-with-firebase-firestore-and-react-native\",\n  \"date\": \"2019-06-28T00:00:00.000Z\",\n  \"title\": \"How to build an Email Authentication app with Firebase, Firestore, and React Native\",\n  \"categories\": [\"react native\"],\n  \"description\": \"---\",\n  \"published\": true,\n  \"author\": \"Aman Mittal\",\n  \"banner\": null\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://unsplash.com/@deleece?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\",\n    \"alt\": \"Photo by Deleece Cook\"\n  })), \" on\\xA0\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://unsplash.com/search/photos/design?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n  }), \"Unsplash\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://console.firebase.google.com/\"\n  }), \"Firebase\"), \" is a Backend as a Service (BaaS) that provides an advantage to mobile developers who use React Native for developing mobile applications. As a React Native developer, if you use Firebase, you can start building an MVP (minimum viable product) to complete mobile applications, keeping the costs low and prototyping the application pretty fast and without worrying to set up a complete backend solution.\"), mdx(\"p\", null, \"Other than that, Firebase can help you with managing mobile analytics, push notification, crash reporting, and out of the box provides email as well as social authentication. Thus, in this tutorial, we are going to start by how to integrate Firebase in a React Native application. This application will be generated using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"expo-cli\"), \" but feel free to try and implement the same solutions provided in this tutorial in a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native-cli\"), \" project. Other than that, we are going to implement email authentication in the app and store the authenticated user data in the cloud-based database known as Firestore.\"), mdx(\"h2\", null, \"Table of Contents\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Requirements\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Create a Firebase Project\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Generate an Expo App\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Integrate Firebase SDK\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Environment Variables\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Creating UI Screens\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adding Navigation\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Login & Signup using Firebase\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adding Redux\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Update Signup and Login Screens\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Creating a Firestore Database\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"On Signup, save the user to Firestore\")), mdx(\"h2\", null, \"Requirements\"), mdx(\"p\", null, \"To follow this tutorial, please make sure you following installed on your local development environment and access to the services mentioned below.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://nodejs.org/en/\"\n  }), \"Nodejs\"), \" (>= \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"8.x.x\"), \") with npm/yarn installed\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"expo-cli\"), \" (>= \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"2.19.4\"), \"), (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"previously known as create-react-native-app\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"watchman\"), \": The file change watcher for React Native projects\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://console.firebase.google.com/\"\n  }), \"Firebase\"), \" account, free tier\")), mdx(\"h2\", null, \"Create a Firebase Project\"), mdx(\"p\", null, \"To get started, you are going to need a Firebase app. Once you have created a new account with Firebase and logged in, create a new project by clicking on the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"New Project\"), \" button.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*8ljVirzyESb2-YlcXTs91w.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Next, add the details regarding this new Firebase project.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*EY_yx-cFCXC0jGJJAS9-MA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Click the button \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create project\"), \" and you will be redirected to the dashboard screen. On the left side menu, click the settings icon, and then go to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Project Settings\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*BgwacmMBupYjZY-OMnBR5w.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"You need all the keys inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"firebaseConfig\"), \" object as shown in the screen above to integrate Firebase with React Native app. We will get into that later.\"), mdx(\"p\", null, \"With Firebase setup done, for now, let us generate the new react native app with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"expo-cli\"), \". Run the following command from your terminal window.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"expo-cli init rnfirebaseauth\\n\\n# navigate inside the project folder\\ncd rnfirebaseauth\\n\")), mdx(\"h2\", null, \"Generate an Expo App\"), mdx(\"p\", null, \"When the project folder is generated, navigate inside the project using the second command, as shown in the above snippet. Expo CLI prompts you three questions which you can answer or choose as the following:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"For template, choose blank.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enter the name of the app \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"RN Firebase Auth\"), \" or anything you like.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Choose \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Y\"), \" or yes to use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"yarn\"), \" as the package manager.\")), mdx(\"p\", null, \"When CLI does everything, you can execute the below command to run and see how the default Expo app looks.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"expo start\\n\")), mdx(\"p\", null, \"I am going to use iOS simulator, but you are free to use Android emulator or Expo client on a real device.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*FLh7z20xAThNH63hjTZFpQ.png\",\n    \"alt\": null\n  }))), mdx(\"h2\", null, \"Integrate Firebase SDK\"), mdx(\"p\", null, \"To integrate the Firebase SDK, install the following dependency.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"yarn add firebase@5.7.2\\n\")), mdx(\"p\", null, \"Once installed, create a new directory called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"config\"), \" at the root of the Expo project. This folder will mostly contain all the configuration your app needs to integrate Firebase. Inside this folder, create a new file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Firebase.js\"), \". Add the following snippet to this file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import firebase from 'firebase'\\n\\nconst firebaseConfig = {\\n    apiKey: 'XXXX',\\n    authDomain: 'XXXX',\\n    databaseURL: 'XXXX',\\n    projectId: 'XXXX',\\n    storageBucket: '',\\n    messagingSenderId: 'XXXX',\\n    appId: 'XXXX'\\n}\\n\\n// Initialize Firebase\\nconst Firebase = firebase.initializeApp(firebaseConfig)\\n\\nexport default Firebase\\n\")), mdx(\"p\", null, \"All the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X's\"), \"values defined above are the API keys you got from Firebase console in the first section of this tutorial. These X's are all sensitive values, and I'd recommend not to share them with anyone, especially if you are thinking of committing this project on Github.\"), mdx(\"p\", null, \"To enable authentication strategy that we are going to use in this tutorial. From the sidebar menu, go to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Authentication\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Sign-in method\"), \" tab and enable the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Email/Password\"), \" strategy as shown below.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*dLREwBP29Vo5Ea0p5G_YXw.png\",\n    \"alt\": null\n  }))), mdx(\"h2\", null, \"Environment Variables\"), mdx(\"p\", null, \"Create a file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".env\"), \" at the root of the project like below and replace all the Xs with your Firebase config values.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-env\"\n  }), \"API_KEY=xxxx\\nAUTH_DOMAIN=xxxx\\nDATABASE_URL=xxxx\\nPROJECT_ID=xxxx\\nMESSAGE_SENDER_ID=xxxx\\nAPP_ID=xxxx\\n\")), mdx(\"p\", null, \"Next, install the following dependency that will help you manage your environment variables gracefully throughout this app.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"yarn add react-native-dotenv\\n\")), mdx(\"p\", null, \"The module \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-native-dotenv\"), \" lets you import environment variables from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".env\"), \" file. Now, open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"babel.config.js\"), \" file and modify it like below.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"module.exports = function(api) {\\n    api.cache(true)\\n    return {\\n        presets: ['babel-preset-expo', 'module:react-native-dotenv']\\n    }\\n}\\n\")), mdx(\"p\", null, \"In the above snippet add the second element to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"presets\"), \" array is essential. Now to use environment variables, open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"config/Firebase.js\"), \" file and modify it as the below snippet. Notice how the variables are getting imported like a norm variable or a component in React Native.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import firebase from 'firebase'\\nimport {\\n    API_KEY,\\n    AUTH_DOMAIN,\\n    DATABASE_URL,\\n    PROJECT_ID,\\n    MESSAGE_SENDER_ID,\\n    APP_ID\\n} from 'react-native-dotenv'\\n\\nconst firebaseConfig = {\\n    apiKey: API_KEY,\\n    authDomain: AUTH_DOMAIN,\\n    databaseURL: DATABASE_URL,\\n    projectId: PROJECT_ID,\\n    storageBucket: '',\\n    messagingSenderId: MESSAGE_SENDER_ID,\\n    appId: APP_ID\\n}\\n\\n// Initialize Firebase\\nlet Firebase = firebase.initializeApp(firebaseConfig)\\n\\nexport default Firebase\\n\")), mdx(\"p\", null, \"This concludes how you can store sensitive API keys in a React Native app.\"), mdx(\"h2\", null, \"Creating UI Screens\"), mdx(\"p\", null, \"In this section, you are going to create three screens inside a new directory \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"screens\"), \". Start by adding some boilerplate code to them. Here are the following snippets for all the three screens. Create three files:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Signup.js\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Login.js\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Profile.js\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// screens/Signup.js\\n\\nimport React from 'react'\\nimport { View, Text } from 'react-native'\\n\\nclass Signup extends React.Component {\\n    render() {\\n        return (\\n            <View>\\n                <Text>Signup Screen</Text>\\n            </View>\\n        )\\n    }\\n}\\n\\nexport default Signup\\n\\n// screens/Login.js\\n\\nimport React from 'react'\\nimport { View, Text } from 'react-native'\\n\\nclass Login extends React.Component {\\n    render() {\\n        return (\\n            <View>\\n                <Text>Login Screen</Text>\\n            </View>\\n        )\\n    }\\n}\\n\\nexport default Login\\n\\n// screens/Profile.js\\n\\nimport React from 'react'\\nimport { View, Text, StyleSheet } from 'react-native'\\n\\nclass Profile extends React.Component {\\n    render() {\\n        return (\\n            <View style={styles.container}>\\n                <Text>Profile Screen</Text>\\n            </View>\\n        )\\n    }\\n}\\n\\nconst styles = StyleSheet.create({\\n    container: {\\n        flex: 1,\\n        backgroundColor: '#fff',\\n        alignItems: 'center',\\n        justifyContent: 'center'\\n    }\\n})\\n\\nexport default Profile\\n\")), mdx(\"p\", null, \"The first screen you are going to build is the login screen. The unauthorized user who is going to use the application is going to see this screen first. To build the login screen, there are three requirements: two input text fields for the user to enter their email and password and a login button to submit these credentials.\"), mdx(\"p\", null, \"Open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login.js\"), \" file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport { View, TextInput, StyleSheet, TouchableOpacity, Text, Button } from 'react-native'\\n\\nclass Login extends React.Component {\\n    state = {\\n        email: '',\\n        password: ''\\n    }\\n\\n    render() {\\n        return (\\n            <View style={styles.container}>\\n                <TextInput\\n                    style={styles.inputBox}\\n                    value={this.state.email}\\n                    onChangeText={email => this.setState({ email })}\\n                    placeholder='Email'\\n                    autoCapitalize='none'\\n                />\\n                <TextInput\\n                    style={styles.inputBox}\\n                    value={this.state.password}\\n                    onChangeText={password => this.setState({ password })}\\n                    placeholder='Password'\\n                    secureTextEntry={true}\\n                />\\n                <TouchableOpacity style={styles.button}>\\n                    <Text style={styles.buttonText}>Login</Text>\\n                </TouchableOpacity>\\n                <Button title=\\\"Don't have an account yet? Sign up\\\" />\\n            </View>\\n        )\\n    }\\n}\\n\\nconst styles = StyleSheet.create({\\n    container: {\\n        flex: 1,\\n        backgroundColor: '#fff',\\n        alignItems: 'center',\\n        justifyContent: 'center'\\n    },\\n    inputBox: {\\n        width: '85%',\\n        margin: 10,\\n        padding: 15,\\n        fontSize: 16,\\n        borderColor: '#d3d3d3',\\n        borderBottomWidth: 1,\\n        textAlign: 'center'\\n    },\\n    button: {\\n        marginTop: 30,\\n        marginBottom: 20,\\n        paddingVertical: 5,\\n        alignItems: 'center',\\n        backgroundColor: '#F6820D',\\n        borderColor: '#F6820D',\\n        borderWidth: 1,\\n        borderRadius: 5,\\n        width: 200\\n    },\\n    buttonText: {\\n        fontSize: 20,\\n        fontWeight: 'bold',\\n        color: '#fff'\\n    },\\n    buttonSignup: {\\n        fontSize: 12\\n    }\\n})\\n\\nexport default Login\\n\")), mdx(\"p\", null, \"To see the screen in action, go to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \" file and edit to only render the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login\"), \" screen.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport Login from './screens/Login'\\n\\nexport default class App extends React.Component {\\n    render() {\\n        return <Login />\\n    }\\n}\\n\")), mdx(\"p\", null, \"Once done, run the app in your simulator or on a real device by executing the command \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"expo start\"), \". You will get the following result.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*FZKJ565zZDoTLDKtKggQyQ.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Similarly, let us edit the signup screen. Open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Signup.js\"), \" file in your code editor.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport { View, TextInput, StyleSheet, TouchableOpacity, Text } from 'react-native'\\n\\nclass Signup extends React.Component {\\n    state = {\\n        name: '',\\n        email: '',\\n        password: ''\\n    }\\n\\n    render() {\\n        return (\\n            <View style={styles.container}>\\n                <TextInput\\n                    style={styles.inputBox}\\n                    value={this.state.name}\\n                    onChangeText={name => this.setState({ name })}\\n                    placeholder='Full Name'\\n                />\\n                <TextInput\\n                    style={styles.inputBox}\\n                    value={this.state.email}\\n                    onChangeText={email => this.setState({ email })}\\n                    placeholder='Email'\\n                    autoCapitalize='none'\\n                />\\n                <TextInput\\n                    style={styles.inputBox}\\n                    value={this.state.password}\\n                    onChangeText={password => this.setState({ password })}\\n                    placeholder='Password'\\n                    secureTextEntry={true}\\n                />\\n                <TouchableOpacity style={styles.button}>\\n                    <Text style={styles.buttonText}>Signup</Text>\\n                </TouchableOpacity>\\n            </View>\\n        )\\n    }\\n}\\n\\nconst styles = StyleSheet.create({\\n    container: {\\n        flex: 1,\\n        backgroundColor: '#fff',\\n        alignItems: 'center',\\n        justifyContent: 'center'\\n    },\\n    inputBox: {\\n        width: '85%',\\n        margin: 10,\\n        padding: 15,\\n        fontSize: 16,\\n        borderColor: '#d3d3d3',\\n        borderBottomWidth: 1,\\n        textAlign: 'center'\\n    },\\n    button: {\\n        marginTop: 30,\\n        marginBottom: 20,\\n        paddingVertical: 5,\\n        alignItems: 'center',\\n        backgroundColor: '#FFA611',\\n        borderColor: '#FFA611',\\n        borderWidth: 1,\\n        borderRadius: 5,\\n        width: 200\\n    },\\n    buttonText: {\\n        fontSize: 20,\\n        fontWeight: 'bold',\\n        color: '#fff'\\n    },\\n    buttonSignup: {\\n        fontSize: 12\\n    }\\n})\\n\\nexport default Signup\\n\")), mdx(\"p\", null, \"Now, edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \" file to render the signup screen and see it in action.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport Signup from './screens/Signup'\\n\\nexport default class App extends React.Component {\\n    render() {\\n        return <Signup />\\n    }\\n}\\n\")), mdx(\"p\", null, \"You will get the following result.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*L3_vfrS2zTgalO6CSIAZ2Q.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"We have completed our first two screens. Let us now add navigation to our app actually to make use of both of these screens.\"), mdx(\"h2\", null, \"Adding Navigation\"), mdx(\"p\", null, \"To navigate between different screens, install the following library to the expo application.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"yarn add react-navigation\\n\")), mdx(\"p\", null, \"Now, create a new directory called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"navigation\"), \". This is where all the navigation strategies related to the current app will be stored. Inside this directory, create a new file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SwitchNavigator.js\"), \" with the following code.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport { createSwitchNavigator, createAppContainer } from 'react-navigation'\\nimport Login from '../screens/Login'\\nimport Signup from '../screens/Signup'\\nimport Profile from '../screens/Profile'\\n\\nconst SwitchNavigator = createSwitchNavigator(\\n    {\\n        Login: {\\n            screen: Login\\n        },\\n        Signup: {\\n            screen: Signup\\n        },\\n        Profile: {\\n            screen: Profile\\n        }\\n    },\\n    {\\n        initialRouteName: 'Login'\\n    }\\n)\\n\\nexport default createAppContainer(SwitchNavigator)\\n\")), mdx(\"p\", null, \"Adding authentication to an app certainly means there is some amount of data associated with the user that is private content. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SwitchNavigator\"), \" from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-navigation\"), \" library is used for this purpose. It only shows one screen at a time and does not has a mechanism for a back button or switch between screens and reset the route altogether.\"), mdx(\"p\", null, \"In the above snippet, import all the three screens present currently in the app directory. The auth flow we are going to implement is this. User opens the app and is welcomed by the login screen; hence, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"initialRouteName\"), \". If the user is not registered, we can use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"navigation.props\"), \" to navigate to the signup screen. Once the user either log in with the right credentials or signs up a new account, they will be directed towards the profile screen.\"), mdx(\"h2\", null, \"Login & Signup using Firebase\"), mdx(\"p\", null, \"Since we have already enabled the email authentication strategy in the Firebase console, edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Signup.js\"), \" file first to register a new user. Add a new method called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"handleSignUp\"), \" that will trigger only when the user presses the button Signup.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// ... other imports\\nimport Firebase from '../config/Firebase'\\n\\nclass Signup extends React.Component {\\n    handleSignUp = () => {\\n        const { email, password } = this.state\\n        Firebase.auth()\\n            .createUserWithEmailAndPassword(email, password)\\n            .then(() => this.props.navigation.navigate('Profile'))\\n            .catch(error => console.log(error))\\n    }\\n\\n    render() {\\n        return (\\n            // same as before\\n            <TouchableOpacity style={styles.button} onPress={this.handleSignUp}>\\n                <Text style={styles.buttonText}>Signup</Text>\\n            </TouchableOpacity>\\n        )\\n    }\\n}\\n\")), mdx(\"p\", null, \"To see this in action, add the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onPress\"), \" method on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Button\"), \" component inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login.js\"), \" file. Since login is the first screen, this is the way you will be directing your users to the signup screen.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"<Button\\n    title=\\\"Don't have an account yet? Sign up\\\"\\n    onPress={() => this.props.navigation.navigate('Signup')}\\n/>\\n\")), mdx(\"p\", null, \"Now go the simulator screen and add trying creating a new user.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*P2iNGc5nK0gctB0VxeKE5w.gif\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"To verify that the user has been created, you go to the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Authentication\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Users\"), \" screen as shown below and find the user's record.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*SSUJ9jzzX2J85wgabhePQg.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"To login the same user, first, modify the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login.js\"), \" file and add a function to handle what to process when the user clicks the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login\"), \" button.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// ... other imports\\nimport Firebase from '../config/Firebase'\\n\\nclass Login extends React.Component {\\n    handleLogin = () => {\\n        const { email, password } = this.state\\n\\n        Firebase.auth()\\n            .signInWithEmailAndPassword(email, password)\\n            .then(() => this.props.navigation.navigate('Profile'))\\n            .catch(error => console.log(error))\\n    }\\n\\n    render() {\\n        return (\\n            // same as before\\n            <TouchableOpacity style={styles.button} onPress={this.handleLogin}>\\n                <Text style={styles.buttonText}>Login</Text>\\n            </TouchableOpacity>\\n        )\\n    }\\n}\\n\")), mdx(\"p\", null, \"Try logging in the app with the same credentials you signup a new user.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*0liKZEkjEsJj5aLTveeafA.gif\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Our simple authentication flow with Firebase and React Native is now working.\"), mdx(\"h2\", null, \"Adding Redux\"), mdx(\"p\", null, \"Redux can be considered an essential part of the React Native ecosystem. If your world revolves around JavaScript, you\\u2019ve probably heard about Redux. To manage state across the whole application can be tricky until you have a concrete solution for it. Using Redux can be helpful and is only one of the ways to do things.\"), mdx(\"p\", null, \"To get started, run the following command to install Redux as a library.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"yarn add redux react-redux redux-thunk\\n\")), mdx(\"p\", null, \"Apart from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"redux\"), \" the other two packages have their use. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-redux\"), \" lets your React Native components connect with the Redux store. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"redux-thunk\"), \" is a middleware that enables you to make redux actions return asynchronous operations. A thunk is a function that wraps an expression to delay its evaluation.\"), mdx(\"p\", null, \"In Redux, the state of the whole application is represented by one JavaScript object. Think of this object as read-only, since we cannot make changes to this state (which is represented in the form of a tree) directly. We need actions to do so.\"), mdx(\"p\", null, \"Actions are like events in Redux. They can be triggered in the form of mouse clicks, key presses, timers, or network requests. The nature of each event mentioned is mutable. An action is a JavaScript object. To define an action, there is one requirement. Each action much has its own type property. Every action needs a type property for describing how the state should change. Create a new file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"actions/user.js\"), \" and add the following types to it.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import Firebase from '../config/Firebase.js'\\n\\n// define types\\n\\nexport const UPDATE_EMAIL = 'UPDATE_EMAIL'\\nexport const UPDATE_PASSWORD = 'UPDATE_PASSWORD'\\nexport const LOGIN = 'LOGIN'\\nexport const SIGNUP = 'SIGNUP'\\n\")), mdx(\"p\", null, \"Make sure you do not ignore the import statement. We will use it in a while to write business logic behind login and signup methods. Below these types, let us define all the action creators we are going to need later.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// actions\\n\\nexport const updateEmail = email => {\\n    return {\\n        type: UPDATE_EMAIL,\\n        payload: email\\n    }\\n}\\n\\nexport const updatePassword = password => {\\n    return {\\n        type: UPDATE_PASSWORD,\\n        payload: password\\n    }\\n}\\n\\nexport const login = () => {\\n    return async (dispatch, getState) => {\\n        try {\\n            const { email, password } = getState().user\\n            const response = await Firebase.auth().signInWithEmailAndPassword(email, password)\\n            dispatch({ type: LOGIN, payload: response.user })\\n        } catch (e) {\\n            console.log(e)\\n        }\\n    }\\n}\\n\\nexport const signup = () => {\\n    return async (dispatch, getState) => {\\n        try {\\n            const { email, password } = getState().user\\n            const response = await Firebase.auth().createUserWithEmailAndPassword(email, password)\\n            dispatch({ type: SIGNUP, payload: response.user })\\n        } catch (e) {\\n            console.log(e)\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, \"Inside the methods \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"login\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"signup\"), \" we are writing the same business logic to interact with Firebase authentication service that we did previously in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Signup\"), \" components separately. Also, we are dispatching the user from each of these actions in order to trigger the changes in the app's state. The only way to change the app's state is through action. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getState\"), \" method used in the above snippet allows accessing the current state of the application.\"), mdx(\"p\", null, \"Next, define reducers to handle the state of the application. Create a new file inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"reducers/index.js\"), \" with the following code.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import { combineReducers } from 'redux'\\nimport { LOGIN, SIGNUP, UPDATE_EMAIL, UPDATE_PASSWORD } from '../actions/user'\\n\\nconst user = (state = {}, action) => {\\n    switch (action.type) {\\n        case LOGIN:\\n            return action.payload\\n        case SIGNUP:\\n            return action.payload\\n        case UPDATE_EMAIL:\\n            return { ...state, email: action.payload }\\n        case UPDATE_PASSWORD:\\n            return { ...state, password: action.payload }\\n        default:\\n            return state\\n    }\\n}\\n\\nconst rootReducer = combineReducers({\\n    user\\n})\\n\\nexport default rootReducer\\n\")), mdx(\"p\", null, \"In Redux terminology, a reducer is a JavaScript function that takes two parameters. They are the current state of the application and an action. A reducer is a pure function that calculates the next state based on the initial or previous state. It always produces the same output if the state is unchanged. In the above snippet, the current state of this application is an empty object. It gets updated whenever the user provides an email and password.\"), mdx(\"p\", null, \"Next, open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \" to create a redux store.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport { createStore, applyMiddleware } from 'redux'\\nimport { Provider } from 'react-redux'\\nimport thunkMiddleware from 'redux-thunk'\\n\\nimport SwitchNavigator from './navigation/SwitchNavigator'\\nimport reducer from './reducers'\\n\\nconst middleware = applyMiddleware(thunkMiddleware)\\nconst store = createStore(reducer, middleware)\\n\\nexport default class App extends React.Component {\\n    render() {\\n        return (\\n            <Provider store={store}>\\n                <SwitchNavigator />\\n            </Provider>\\n        )\\n    }\\n}\\n\")), mdx(\"p\", null, \"A store is an object that brings and actions and reducers together. It provides and holds state at the application level instead of individual components. Redux is not an opinionated library in terms of which framework or library should use it or not. To bind a React Native application with Redux, you do it with react-redux module. This is done by using the high ordered component Provider. It basically passes the store down to the rest of the React Native application.\"), mdx(\"h2\", null, \"Update Signup and Login Screens\"), mdx(\"p\", null, \"In this section, you are going to edit both the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Signup\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login\"), \" components to use Redux store. Open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Signup.js\"), \" file and three new import statements.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import { bindActionCreators } from 'redux'\\nimport { connect } from 'react-redux'\\nimport { updateEmail, updatePassword, signup } from '../actions/user'\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"bindActionCreators\"), \" maps actions to an object using the names of the action functions. These functions automatically dispatch the action to the store when the function is invoked. To change the data, we need to dispatch an action. To enable this, we need two things: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mapStateToProps\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mapDispatchToProps\"), \", and we need to connect both of them with our component. This connection is done by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"connect()\"), \" method from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-redux\"), \" package. We define these two functions and modify the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export default\"), \" statement after we define the styles in this component file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const mapDispatchToProps = dispatch => {\\n    return bindActionCreators({ updateEmail, updatePassword, signup }, dispatch)\\n}\\n\\nconst mapStateToProps = state => {\\n    return {\\n        user: state.user\\n    }\\n}\\n\\nexport default connect(\\n    mapStateToProps,\\n    mapDispatchToProps\\n)(Signup)\\n\")), mdx(\"p\", null, \"The only thing left to make this component to work is to edit the component logic. Here is the complete source code for that.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"class Signup extends React.Component {\\n    handleSignUp = () => {\\n        this.props.signup()\\n        this.props.navigation.navigate('Profile')\\n    }\\n\\n    render() {\\n        return (\\n            <View style={styles.container}>\\n                <TextInput\\n                    style={styles.inputBox}\\n                    value={this.props.user.email}\\n                    onChangeText={email => this.props.updateEmail(email)}\\n                    placeholder='Email'\\n                    autoCapitalize='none'\\n                />\\n                <TextInput\\n                    style={styles.inputBox}\\n                    value={this.props.user.password}\\n                    onChangeText={password => this.props.updatePassword(password)}\\n                    placeholder='Password'\\n                    secureTextEntry={true}\\n                />\\n                <TouchableOpacity style={styles.button} onPress={this.handleSignUp}>\\n                    <Text style={styles.buttonText}>Signup</Text>\\n                </TouchableOpacity>\\n            </View>\\n        )\\n    }\\n}\\n\")), mdx(\"p\", null, \"We are using props coming from the Redux store via \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mapStateToProps\"), \". On signup, using navigation props from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-navigation\"), \" the user is redirected to the profile screen.\"), mdx(\"p\", null, \"Except for minor changes in function names, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login.js\"), \" component looks very similar and follows the same pattern to connect redux store and use actions to make changes to the application's state. Open the component file and modify it like below.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport { View, TextInput, StyleSheet, TouchableOpacity, Text, Button } from 'react-native'\\nimport { bindActionCreators } from 'redux'\\nimport { connect } from 'react-redux'\\nimport { updateEmail, updatePassword, login } from '../actions/user'\\n\\nclass Login extends React.Component {\\n    handleLogin = () => {\\n        this.props.login()\\n        this.props.navigation.navigate('Profile')\\n    }\\n\\n    render() {\\n        return (\\n            <View style={styles.container}>\\n                <TextInput\\n                    style={styles.inputBox}\\n                    value={this.props.user.email}\\n                    onChangeText={email => this.props.updateEmail(email)}\\n                    placeholder='Email'\\n                    autoCapitalize='none'\\n                />\\n                <TextInput\\n                    style={styles.inputBox}\\n                    value={this.props.user.password}\\n                    onChangeText={password => this.props.updatePassword(password)}\\n                    placeholder='Password'\\n                    secureTextEntry={true}\\n                />\\n                <TouchableOpacity style={styles.button} onPress={this.handleLogin}>\\n                    <Text style={styles.buttonText}>Login</Text>\\n                </TouchableOpacity>\\n                <Button\\n                    title=\\\"Don't have an account yet? Sign up\\\"\\n                    onPress={() => this.props.navigation.navigate('Signup')}\\n                />\\n            </View>\\n        )\\n    }\\n}\\n\\nconst styles = StyleSheet.create({\\n    container: {\\n        flex: 1,\\n        backgroundColor: '#fff',\\n        alignItems: 'center',\\n        justifyContent: 'center'\\n    },\\n    inputBox: {\\n        width: '85%',\\n        margin: 10,\\n        padding: 15,\\n        fontSize: 16,\\n        borderColor: '#d3d3d3',\\n        borderBottomWidth: 1,\\n        textAlign: 'center'\\n    },\\n    button: {\\n        marginTop: 30,\\n        marginBottom: 20,\\n        paddingVertical: 5,\\n        alignItems: 'center',\\n        backgroundColor: '#F6820D',\\n        borderColor: '#F6820D',\\n        borderWidth: 1,\\n        borderRadius: 5,\\n        width: 200\\n    },\\n    buttonText: {\\n        fontSize: 20,\\n        fontWeight: 'bold',\\n        color: '#fff'\\n    },\\n    buttonSignup: {\\n        fontSize: 12\\n    }\\n})\\n\\nconst mapDispatchToProps = dispatch => {\\n    return bindActionCreators({ updateEmail, updatePassword, login }, dispatch)\\n}\\n\\nconst mapStateToProps = state => {\\n    return {\\n        user: state.user\\n    }\\n}\\n\\nexport default connect(\\n    mapStateToProps,\\n    mapDispatchToProps\\n)(Login)\\n\")), mdx(\"p\", null, \"If you try to run the application, register a new user with a different email, and you will find there is no change in the working of the application.\"), mdx(\"h2\", null, \"Creating a Firestore Database\"), mdx(\"p\", null, \"There are two types of cloud-based database services provided by Firebase. One is called Cloud Firestore, and the other one is known as Real-time Database. Real-time database stores data as one large JSON tree. Complex and scalable data is hard to organize in it. Cloud Firestore follows proper NoSQL terminology when it comes to storing data. It stores data in documents, and each document can have sub-collections, thus, making it suitable for scalable and complex data scenarios.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*ZbyS-Lg_kxkjiWpCLDaqbA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Go back to the Firebase console and at the Database section, choose the Cloud Firestore and click on the button \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create database\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*aciscrtAsywB3ISbOsLQ8A.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Then, choose the option \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Start in text mode\"), \" and click the button \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Next\"), \" as shown below.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*gYf5QJQSXHTZ3rTas2-pjw.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Next, it will ask you to choose the location for the database, let it be the default and click the button \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Done\"), \". After a few moments, the cloud-based Firestore database is ready to use. It is empty right now and does not contain any collections or documents.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*1VrvVQyyHYHeWYNweiLfIA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"We have already integrated the Firebase SDK in the React Native application. Let us export an instance of the Firestore database in order to perform CRUD operations. Open the file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"config/Firebase.js\"), \" and add the following lines.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// ... after other imports\\nimport 'firebase/firestore'\\n\\n// ... before export default statemen\\nexport const db = firebase.firestore()\\n\\n// avoid deprecated warnings\\ndb.settings({\\n    timestampsInSnapshots: true\\n})\\n\")), mdx(\"p\", null, \"Setting up the firestore part is now done. From the next section onwards, we are going to use the cloud-based database to store users credentials and their IDs.\"), mdx(\"h2\", null, \"On Signup, save the user to Firestore\"), mdx(\"p\", null, \"In this section, we are going to hook Firestore reference in the redux action creators that let us create a new user. Open the file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"actions/user.js\"), \" and modify the following import line to add the reference to the Firestore database.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import Firebase, { db } from '../config/Firebase.js'\\n\")), mdx(\"p\", null, \"Next, modify the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"signup\"), \" function as below.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"export const signup = () => {\\n    return async (dispatch, getState) => {\\n        try {\\n            const { email, password } = getState().user\\n            const response = await Firebase.auth().createUserWithEmailAndPassword(email, password)\\n            if (response.user.uid) {\\n                const user = {\\n                    uid: response.user.uid,\\n                    email: email\\n                }\\n\\n                db.collection('users')\\n                    .doc(response.user.uid)\\n                    .set(user)\\n\\n                dispatch({ type: SIGNUP, payload: user })\\n            }\\n        } catch (e) {\\n            alert(e)\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, \"In the above snippet, using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createUserWithEmailAndPassword\"), \" method, we are creating a new user and saving its credentials. Then, fetching the user id from the response on creating the new user, we use the Firestore reference \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"db\"), \" to create a collection called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"users\"), \" (\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"if first time and the collection with that name does not exist\"), \") and store the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"user\"), \" object inside it. This user object contains the user id or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uid\"), \" from the authentication response and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"email\"), \" of the user.\"), mdx(\"p\", null, \"Take a look at the below demo of registering a new user.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*DXRoTC0fTzJh5T4yt7wCgg.gif\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"If you go back to the firebase console, you will notice that a new collection with name \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"users\"), \" has one document with the same email id we registered with.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*ZoQr24sTH-Hb4YqOK8hsoA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"It also has another field called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uid\"), \" which shares the value with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uid\"), \" store in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Authentication\"), \" section. You can verify that by going to that section matching both the email and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uid\"), \" as shown below.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*TG2GIKJAbn3knj9ZyYFSQw.png\",\n    \"alt\": null\n  }))), mdx(\"h2\", null, \"On Login, fetch the user from Firestore\"), mdx(\"p\", null, \"In this section, let us modify \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"login\"), \" action creator to fetch the user id from the Firestore database and then authenticate the user on that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uid\"), \". Open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"actions/user.js\"), \" file and add the following snippet of code.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"export const login = () => {\\n    return async (dispatch, getState) => {\\n        try {\\n            const { email, password } = getState().user\\n            const response = await Firebase.auth().signInWithEmailAndPassword(email, password)\\n\\n            dispatch(getUser(response.user.uid))\\n        } catch (e) {\\n            alert(e)\\n        }\\n    }\\n}\\n\\nexport const getUser = uid => {\\n    return async (dispatch, getState) => {\\n        try {\\n            const user = await db\\n                .collection('users')\\n                .doc(uid)\\n                .get()\\n\\n            dispatch({ type: LOGIN, payload: user.data() })\\n        } catch (e) {\\n            alert(e)\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, \"After the app user submits his credentials, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"login\"), \" action. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"login\"), \" method here checks whether the credentials provided are valid in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Authentication\"), \" or not. If they are, it dispatches the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getUser\"), \" method to fetch user object from the collection.\"), mdx(\"p\", null, \"In this method, we are getting the user based on their \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uid\"), \" and using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"get()\"), \" method. Lastly, the dispatch function dispatches the user data in the payload. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"alert()\"), \" method in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch\"), \" statements is suitable to catch any errors occurring at the time of login.\"), mdx(\"p\", null, \"Whether they provide wrong credentials or if they try to login with empty fields, this will catch and state the error as shown below.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*VuveKn55MEIAVgK0VorTtQ.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Open, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login.js\"), \" file to import these two actions. In a lifecycle method, you are also going to check whether the user is already logged in or not using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Firebase.auth().onAuthStateChanged()\"), \" method.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// ... other imports\\n\\nimport { updateEmail, updatePassword, login, getUser } from '../actions/user'\\nimport Firebase from '../config/Firebase'\\n\\nclass Login extends React.Component {\\n    // add this lifecycle method\\n    componentDidMount = () => {\\n        Firebase.auth().onAuthStateChanged(user => {\\n            if (user) {\\n                this.props.getUser(user.uid)\\n                if (this.props.user != null) {\\n                    this.props.navigation.navigate('Profile')\\n                }\\n            }\\n        })\\n    }\\n\\n    render() {\\n        return (\\n            // rest is same\\n\\n            <TouchableOpacity style={styles.button} onPress={() => this.props.login()}>\\n                <Text style={styles.buttonText}>Login</Text>\\n            </TouchableOpacity>\\n\\n            // rest is same\\n        )\\n    }\\n}\\n\\n// don't forget to bind getUser\\n\\nconst mapDispatchToProps = dispatch => {\\n    return bindActionCreators({ updateEmail, updatePassword, login, getUser }, dispatch)\\n}\\n\")), mdx(\"p\", null, \"Now go to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Profile.js\"), \" file and edit it like below.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import React from 'react'\\nimport { View, Text, StyleSheet, Button } from 'react-native'\\nimport { connect } from 'react-redux'\\nimport Firebase from '../config/Firebase'\\n\\nclass Profile extends React.Component {\\n    handleSignout = () => {\\n        Firebase.auth().signOut()\\n        this.props.navigation.navigate('Login')\\n    }\\n\\n    render() {\\n        return (\\n            <View style={styles.container}>\\n                <Text>Profile Screen</Text>\\n                <Text>{this.props.user.email}</Text>\\n                <Button title='Logout' onPress={this.handleSignout} />\\n            </View>\\n        )\\n    }\\n}\\n\\n// styles are as before\\n\\nconst mapStateToProps = state => {\\n    return {\\n        user: state.user\\n    }\\n}\\n\\nexport default connect(mapStateToProps)(Profile)\\n\")), mdx(\"p\", null, \"In the above component, we are fetching the user state to display the correct email ID of the user logged in. Next, there is also a sign-out button that redirects back to the login screen once the user has signed out.\"), mdx(\"p\", null, \"Here is the complete demo of this section.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*j8RgbvpshhW44KDXHfSGpQ.gif\",\n    \"alt\": null\n  }))), mdx(\"h2\", null, \"Conclusion\"), mdx(\"p\", null, \"You have now successfully integrated and stored user data to the Firebase Firstore. I hope you gained much-needed information on integrating Redux in a React Native application as well.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://heartbeat.fritz.ai/how-to-build-an-email-authentication-app-with-firebase-firestore-and-react-native-a18a8ba78574\"\n  }), \"Originally published at Heartbeat\"))));\n}\n;\nMDXContent.isMDXComponent = true;"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"e50dcc2f-c84f-5480-a958-d06e664f2341","prev":{"id":"477e3190-b111-5105-ab16-bfc13e4b01f2","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"Google Analytics is the go-to means to analyze and report incoming user traffic on a website. It has a dashboard that you can utilize to find all the reports and data. But what if you want to display some of that data on your website? It is an open…","fields":{"title":"Visualize Google Analytics Data In A Node.js App","slug":"how-to-visualize-google-analytics-data-in-a-nodejs-app","date":"2019-07-02T00:00:00.000Z"},"code":{"scope":""}},"next":{"id":"c4991679-59cb-5382-abf4-598e26035786","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"Firebase is a Backend as a Service (BaaS) that gives an advantage to web developers who use ReactJS for developing web applications. It is a platform that got acquired by Google and has a healthy and active community. Most users in this community are…","fields":{"title":"How to integrate Firebase and Firestore cloud database with a React application","slug":"how-to-integrate-firebase-firestore-react-and-crowdbotics-platform","date":"2019-06-20T00:00:00.000Z"},"code":{"scope":""}}}}}