{"componentChunkName":"component---src-templates-post-js","path":"/how-to-quickly-build-and-integrate-a-serverless-react-application-with-crowdbotics-and-aws-amplify","webpackCompilationHash":"c3a562291cd8e443a353","result":{"data":{"site":{"siteMetadata":{"title":"Aman Mittal - Fullstack Developer","description":"Aman Mittal - Developer and Technical writer.","author":{"name":"Aman Mittal"},"keywords":["Fullstack Developer"]}},"mdx":{"frontmatter":{"title":"How to quickly build and integrate a serverless React application with Crowdbotics and AWS Amplify","date":"April 25, 2019","author":"Aman Mittal","banner":null,"slug":"how-to-quickly-build-and-integrate-a-serverless-react-application-with-crowdbotics-and-aws-amplify","keywords":null},"code":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"how-to-quickly-build-and-integrate-a-serverless-react-application-with-crowdbotics-and-aws-amplify\",\n  \"date\": \"2019-04-25T00:00:00.000Z\",\n  \"title\": \"How to quickly build and integrate a serverless React application with Crowdbotics and AWS Amplify\",\n  \"categories\": [\"reactjs, amplify\"],\n  \"description\": \"---\",\n  \"published\": true,\n  \"author\": \"Aman Mittal\",\n  \"banner\": null\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/2560/1*XQL0u5BzIQznVPayIe1Jyw.jpeg\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"As a developer building a serverless application, you get to focus more on the product. Instead of worrying about managing and operating servers, you get to reclaim your valuable time and energy.\"), mdx(\"p\", null, \"Serverless providers such as Amazon (along with few others) are leading the race right now by consistently developing tools, enhancing developer experience and providing services at a low cost.\"), mdx(\"p\", null, \"In this tutorial, we are going to build and integrate a React application with a serverless tool provided in the form AWS Amplify Framework. Amplify is an open source library for serverless development. It makes it easier to build a serverless backend and integrate it with front-end (\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"not only React, but supports JavaScript frameworks too\"), \").\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Tldr;\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Requirements\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Setting up a Crowdbotics Project\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"What is AWS Amplify?\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Configure AWS Amplify Account\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Create a React Project\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Initializing AWS Amplify\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Setting Amplify User Authentication\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Enable GraphQL API\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Publishing the API to AWS\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Configure React App with Amplify\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Building the UI: Form\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"UI: A list of notes\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"How to Run Queries and Mutations in AppSync\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Running the First GraphQL Mutation using GraphiQL interface\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Running the Second Mutation from React App\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Query all the notes\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Deleting a note\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Conclusion\")), mdx(\"h3\", null, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"Requirements\")), mdx(\"p\", null, \"In order to follow this tutorial, you are required to have:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"NodeJS \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"v8.x.x\"), \" or higher installed along with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"npm/yarn\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"create-react-app\"), \" global module to scaffold a React project\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"AWS account (\", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"it's free!\"), \")\")), mdx(\"h3\", null, \"Setting up a Crowdbotics Project\"), mdx(\"p\", null, \"To setup, a new Crowdbotics project, visit \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://app.crowdbotics.com/create/\"\n  }), \"app.crowdbotics.com\"), \" and login to the dashboard screen.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*9gollubzgEx8AyxPs_TjFw.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Once you see the dashboard screen, click on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create a new application\"), \". On \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create an Application\"), \" page, choose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Others > Other\"), \" template. Lastly, choose the name of your template at the bottom of this page and then click the button \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create by app!\"), \" After a few moments, your Crowdbotics project will be created. Upon creation, it will redirect you to the app dashboard, where you can see a link to GitHub, Heroku, and Slack.\"), mdx(\"p\", null, \"Once your project is created, you will get an invitation from Crowdbotics to download your project or clone the repository from Github either on them email you logged in or as a notification if you chose Github authentication.\"), mdx(\"h3\", null, \"What is AWS\\xA0Amplify?\"), mdx(\"p\", null, \"Amazon Web Service is a well-known technology that provides cloud services. Since its launch in 2017, Amplify has come a long way in terms of providing a definitive toolchain. Currently, it stands on the pillars of CLI plugins, supports GraphQL Transform, UI components with authentication, storage, interactions in the form of chatbots, a VS Code Extension, and of course, hosting. To install amplify CLI tool, run the following command.\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\"), \"shell\\nnpm install -g @aws-amplify/cli\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"To check that we are on the same version, ( _I\\u2019d recommend the higher version, if released at the time of your reading, too_), you can run the below command and will be prompted with an output.\\n\\n```shell\\namplify --version\\n\\n# Output\\n\\n1.6.3\\n\")), mdx(\"h3\", null, \"Configure AWS Amplify\\xA0Account\"), mdx(\"p\", null, \"It is important to have an AWS account before you proceed with this step. Once you are signed-in to AWS console, open up a terminal window and run the following command.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"amplify configure\\n\")), mdx(\"p\", null, \"This will open up the AWS console dashboard. Go back to terminal and press enter to continue. The CLI tool will now prompt you with a different set of questions in order to set up a cloud service and create a user in the cloud. Follow closely.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Choose a region\"), \": us-east-2\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Specify the username of the new IAM user\"), \": noteapp-react-amplify\")), mdx(\"p\", null, \"On entering the username, press \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"enter\"), \" and it will open AWS console again in a browser window for you to add a user.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/1200/1*grl6iPya44gP3u60gCgAAA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Make sure in the above screen that \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Programmatic access\"), \" is checked. It allows adding the newly created user to have access to create resources in the form of different APIs and tools by providing you with an access key and secret key.\"), mdx(\"p\", null, \"Click on the button \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Next: Permissions\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*SpLuT3eGaKCZA_CpL8Fxww.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"On the web page as above, you will see that policy has already been selected by default. This provides you the full access to AWS services by enabling the aws user to be as an administrator.\"), mdx(\"p\", null, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Next: Tags\"), \". On the next page, leave it blank. Now, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Next: Review\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/1200/1*9N8-ph8DvojntkY_M_1btg.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create user\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*RYLNmCC6N14Quy5WU01YKw.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"You will get an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Access key\"), \" and a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"secret key\"), \". Copy them and keep them safe. Open the same terminal window as earlier. It will now prompt you to enter these keys each, once you press enter.\"), mdx(\"p\", null, \"For \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Profile Name\"), \", enter the project name ( \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"or the user name we entered earlier\"), \") to keep things simple for now. You will get a success message once the new user is created. The configuration part of the AWS amplify user is complete.\"), mdx(\"h3\", null, \"Create a React\\xA0Project\"), mdx(\"p\", null, \"Traverse inside the Crowdbotics project directory that you cloned. Now, let us build a new React app from scratch using its CLI tool \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"create-react-app\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"create-react-app noteapp\\n\\n# after project is generated, traverse inside it\\n\\ncd noteapp\\n\")), mdx(\"h3\", null, \"Initializing AWS\\xA0Amplify\"), mdx(\"p\", null, \"Let us now initialize the current state of React app to make it work with AWS Amplify toolchain. The first is to run the below command.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"amplify init\\n\")), mdx(\"p\", null, \"This command will you ask another set of questions in order to setup \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"amplify\"), \" SDK in your project. In the below screen you will find these questions and the answers you need to select. Most of them are default as prompted by the CLI tool.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*QiRkHB2KDXJwu5vsGY_zWA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"After that, you will be prompted with a question on whether to use an AWS profile or not. You have to choose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Yes\"), \" and then for the next question, choose the user name that you created in the previous steps when configuring amplify.\"), mdx(\"p\", null, \"After a few moments, a special directory appears inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"noteapp/\"), \" called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"amplify\"), \". This contains configuration files required in order to work both on the local machine and aws cloud.\"), mdx(\"p\", null, \"Yes, any changes you make to an amplify project are first done locally inside your project and then, with a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"push\"), \" command, can be permanently implemented on the aws cloud.\"), mdx(\"p\", null, \"Also, a new file is created by the amplify CLI tool inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src\"), \" directory called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws-exports.js\"), \". You will be using this file later when building the app.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*Wq-bGF-ddimrocOSRcDxOw.png\",\n    \"alt\": null\n  }))), mdx(\"h3\", null, \"Setting Amplify User Authentication\"), mdx(\"p\", null, \"The general idea of the React application that we are going to build in this tutorial is that it is going to be a Note taking web app. This app will have an API that performs CRUD ( \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Create, Read, Update, Delete\"), \") operations and persists these operations to the database.\"), mdx(\"p\", null, \"Amplify makes this process easier than the traditional procedure of building a web app with a custom backend. It gives you the superpower to generate an entire API and set up an authentication system with just a few commands. To get started with the current section, run the below command.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"amplify add api\\n\")), mdx(\"p\", null, \"The above command, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"amplify add\"), \" is the way to add any resource ( \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"or AWS category\"), \") at any time during the process of building your app. The last term in the above command \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"api\"), \" is the name of the resource or the service that you are going to use. The command line interface will now ask you a set of questions to follow along.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*G9U_HnuWEHsDpJlOa7H1TQ.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"The first prompt by amplify command is to choose how you want to write your API. Amplify supports APIs written in both GraphQL and RESTful. In our case, choose GraphQL. The GraphQL API service provided by Amplify is also known as \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://aws.amazon.com/appsync/\"\n  }), \"AWS AppSync\"), \". AppSync features both real-time data interactions with the NoSQL database and offline support.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*Trt5AxoTMspjAgQRc3gNEg.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Next step is to provide an API name. Right now, it is recommended to go by the default name. Just press the enter key. \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Why is this step necessary to provide an API name?\"), \" Imagine, if you an app that utilizes more than one API. Then, it is a good scenario to provide your own naming for different APIs.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*57ght1It-O3r_kam25GiGQ.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"The above step allows you to set up user authentication and authorization in your React app using Amplify toolchain. Amplify has its own user auth modules, and as they are described above. The first one, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"API Key\"), \" is not so much of a pragmatic approach if your app contains sensitive data and needs to manage different users. This option is valid only if you are looking for prototyping a quick app or your web app does not support the concept of having authorized app users.\"), mdx(\"p\", null, \"The second option which we are going to choose in this case is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Cognito User Pool\"), \". This is a more pragmatic option. If you are building a web app, you are probably going to use it in order to manage app users. This option not only supports user authentication but has support for role-based user authentication, is secured and works with GraphQL APIs ( \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"AppSync\"), \").\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*X668oaLxseRLZ-dnzdoJAw.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"This option, choose default authentication and security configuration. Another option to look out for is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Manual configuration\"), \" about which you can read more at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://aws-amplify.github.io/docs/js/react\"\n  }), \"the official amplify docs\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*z407vg92qln6EPgWucxEBg.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"In the above field, choose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Username\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*KC2KxnppSWN2RpwhM9oZFQ.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Amplify\\u2019s command line interface is so interactive and in detail these days that it prompts you to provide input fields and select them from your terminal. Right now, we only need to choose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Email\"), \" but feel free to play around with other options. The user authentication setup is complete for now. The CLI will continue to ask you questions but they are going to be related to the GraphQL API.\"), mdx(\"h3\", null, \"Enable GraphQL\\xA0API\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*ZTaGhluP05haPMMMtGPDLA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Amplify comes with pre-defined schemas that can be changed later. Choose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"no\"), \" for the first question and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yes\"), \" for creating a GraphQL schema.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*q-y7sKFRhKeUnqIEeoul_g.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"The app is going to be simple in terms of database and its properties. Select \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"single object with fields\"), \". Next, it will ask to edit the GraphQL Schema. Say yes to that! This will open up a new file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"schema.graphql\"), \" which already contains a schema of type \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Todo\"), \" with fields. This step also creates a new folder inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"amplify/backend/api/\"), \" that further contains the metadata information related to GraphQL API and user auth.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*DzwwnvBf-0NtbzET7vbVrg.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Note\"), \" that, these files are only available in the local environment and the changes made inside them are not yet published in the aws cloud. More on this later.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-graphql\"\n  }), \"type Todo @model {\\n  id: ID!\\n  name: String!\\n  description: String\\n}\\n\")), mdx(\"p\", null, \"A \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"type\"), \" in GraphQL is a piece of information or data stored in the database. Each type can have different fields. For example, in the above schema for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Todo\"), \" model, it has three fields: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"description\"), \". You can think of this model as a JavaScript object and fields as properties to that JavaScript object. Let us modify this existing model created by amplify to our own needs.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-graphql\"\n  }), \"type Note @model {\\n  id: ID!\\n  note: String!\\n}\\n\")), mdx(\"p\", null, \"Every \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"type\"), \" in the database generates a unique identity to each piece of information to identify and persist in CRUD operations. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \" in our case is generated by Amplify and have a value of a built-in type of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ID\"), \" which is also known as scalar type. Similarly, the next field \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"note\"), \" is of type string. There are basic types identified by the GraphQL schema and you can read more about them \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://graphql.org/graphql-js/basic-types/\"\n  }), mdx(\"strong\", {\n    parentName: \"a\"\n  }, \"here\")), \".\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Did you notice that both the fields have an exclamation\\xA0\"), mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_!_\"), \" \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"at their scalar types?\"), \" This marks that any field having it is required in the database to exist and have value.\"), mdx(\"p\", null, \"Save this file, go back to CLI and press enter. If there are no errors ( \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"probably going to be in red\"), \"), you will get a success message and the changes made are saved locally.\"), mdx(\"h3\", null, \"Publishing the API to\\xA0AWS\"), mdx(\"p\", null, \"To publish all the local changes to the aws cloud, all you have to do is run the command \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"amplify push\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*E8jPNMXaqVceTkgFkCKY4g.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"On running this command, you get a table in return with information about resources that you have used and modified or enabled. The name of these resources are described in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Category\"), \" section and the custom or default name you choose is under \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Resource name\"), \". Next column is the type of operation, currently, it is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Create\"), \". Lastly, the provider plugin column signifies that these resources are now being published to the cloud. Press \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Y\"), \" to continue.\"), mdx(\"p\", null, \"CLI interface now checks the schema and compiles it for any errors before publishing final changes to the cloud. In the next step, it asks you whether you want to generate code for your newly created GraphQL API? Press \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Y\"), \". Then choose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"javascript\"), \" as the code generation language.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*QUCajnQ88nuvmZKw_vJdmA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"For the last prompt, just press enter. Make sure the path is default as suggested by the CLI. This last step in the above image creates a new folder inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src\"), \" directory which contains GraphQL schema, query, mutations, subscriptions as JavaScript files. React components can access these files later and use them.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*faZ_nYVGlDGSKVrBickN3g.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Press \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Y\"), \" to the next question as above and let maximum statement depth be the default value of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"2\"), \". It will take a few moments to update the resources on the cloud and will prompt with a success message when done.\"), mdx(\"h3\", null, \"Configure React App with\\xA0Amplify\"), mdx(\"p\", null, \"To use amplify SDK in the React app install the following dependencies via npm or yarn.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm i -S aws-amplify aws-amplify-react\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws-amplify\"), \" allow making requests to auth and API services provided AWS. The other package \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws-amplify-react\"), \" is specific to React as a library and contains useful components to be used in a project.\"), mdx(\"p\", null, \"Open up \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/App.js\"), \" and import the following three statements to configure \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Amplify\"), \" library and a High Order Component called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"withAuthenticator\"), \" that wraps around \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App\"), \" component and adds user authentication flow in the react app.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"//App.js\\n\\n// ...\\nimport Amplify from 'aws-amplify'\\nimport awsmobile from './aws-exports'\\nimport { withAuthenticator } from 'aws-amplify-react'\\n\\nAmplify.configure(awsmobile)\\n\\n//...\\n\\nexport default withAuthenticator(App, true)\\n\")), mdx(\"p\", null, \"The React HOC \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"withAutenticator\"), \" detects a user's authorization state for example, whether the user is signed in or not and updates the UI accordingly. Now go back to the terminal and let us test the amount of work we have done so far. To run start the React app in development server, run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm start\"), \" and visit \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:3000/\"), \" in a browser window. You will be welcomed by the following screen below, asking you to sign in as a user to React app.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/1200/1*QU1V8V2v1eZVIXgUoFLraQ.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Currently, there no user\\u2019s registered to our app. So let us register one. Click the button \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"create account\"), \" and enter the details. Do note that, please enter a valid email address since the AWS servers are going to send you a verification code when you log in for the first time.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*_dlnFwTyQBIm78goATDi0g.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Also note that the email that contains verification code may go to your spam or may take a bit time, so don\\u2019t worry. After receiving the code, enter it, and click the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"confirm\"), \" button like below.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*Xt4Y1zpIcbJR3CCnBUKK8g.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"It will then redirect you on the first screen, and now you can log in with the username and password you provided during the process. Once you are logged in, you will be welcomed by a similar screen below with your own username.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/1200/1*cVCHLcqO37cky6UEdvOU4A.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Notice that there is a navigation bar that is automatically added. This navbar includes a greeting with a username and a signout button. If you click the sign out button, your current user will be logged out and will have to provide login credentials again.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Bonus:\"), \" There is a lot of customization you can do with AWS Cognito in terms of managing the user pool, different verification strategies such as sending a verification code via SMS or adding your own custom strategy using AWS Lambda function. We are not going to go in-depth for this particular tutorial, but consider this a shoutout for trying new things if you are working with Amplify for the first time. Visit AWS Cognito through AWS console in a browser window and there you will find all the different information.\"), mdx(\"h3\", null, \"Building the UI:\\xA0Form\"), mdx(\"p\", null, \"To keep things simple in the UI part, the React app will have a form of input and a button to add a new note to the app. To begin, open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \" file and add the following code for the form.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// App.js\\n\\nimport React, { Component } from 'react'\\n\\nimport './App.css'\\n\\nimport Amplify from 'aws-amplify'\\nimport awsmobile from './aws-exports'\\nimport { withAuthenticator } from 'aws-amplify-react'\\n\\nAmplify.configure(awsmobile)\\n\\nclass App extends Component {\\n  render() {\\n    return (\\n      <div className=\\\"App\\\">\\n        <div className=\\\"App-header\\\">\\n          <h1>\\n            <span role=\\\"img\\\" aria-label=\\\"write\\\">\\n              \\uD83D\\uDCDD\\n            </span>\\n            React + Amplify NoteApp\\n          </h1>\\n          <form className=\\\"form-note\\\">\\n            <input\\n              type=\\\"text\\\"\\n              className=\\\"form-input\\\"\\n              placeholder=\\\"Add your note\\\"\\n            />\\n            <button type=\\\"submit\\\" className=\\\"form-button\\\">\\n              Add\\n            </button>\\n          </form>\\n        </div>\\n      </div>\\n    )\\n  }\\n}\\n\\nexport default withAuthenticator(App, true)\\n\")), mdx(\"p\", null, \"The corresponding CSS file with some custom classes that we are using in the above form is:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \".App {\\n    text-align: center;\\n}\\n\\n.App-logo {\\n    animation: App-logo-spin infinite 20s linear;\\n    height: 40vmin;\\n    pointer-events: none;\\n}\\n\\n.App-header {\\n    background-color: #282c34;\\n    min-height: 100px;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    font-size: calc(10px + 2vmin);\\n    color: white;\\n}\\n\\n.App-link {\\n    color: #61dafb;\\n}\\n\\n@keyframes App-logo-spin {\\n    from {\\n        transform: rotate(0deg);\\n    }\\n    to {\\n        transform: rotate(360deg);\\n    }\\n}\\n\\n.form-note {\\n    padding: 10px;\\n}\\n\\n.form-input {\\n    font-size: 40px;\\n}\\n\\n.form-button {\\n    margin-left: 5px;\\n    font-size: 40px;\\n}\\n\\n.notes-list {\\n    padding: 10px;\\n    display: flex;\\n}\\n\\n.notes-list-button {\\n    margin-left: 10px;\\n}\\n\")), mdx(\"p\", null, \"Run the command \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm start\"), \", log in as the app user and you will see similar results in the browser window.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/1200/1*p_pWKjsi9-_VTJS_xek5GQ.png\",\n    \"alt\": null\n  }))), mdx(\"h3\", null, \"UI: A list of\\xA0notes\"), mdx(\"p\", null, \"Underneath the form, there is going to be a list of notes being displayed. These are those notes that will be added by the user in the future. Start by initializing a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"notes\"), \" array in the component's state.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"state = {\\n  notes: []\\n}\\n\")), mdx(\"p\", null, \"The current state does not contain any data to display. To iterate over notes, let us add a placeholder notes object inside which each item is represented with fields \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"note\"), \" text to display.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// App.js\\n\\nstate = {\\n  notes: [\\n    {\\n      id: 1,\\n      note: 'First note'\\n    }\\n  ]\\n}\\n\")), mdx(\"p\", null, \"To iterate over \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"notes\"), \" array, let use ES6 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"map\"), \" function. Here is the complete snippet for render function in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// App.js\\n\\nrender() {\\n        return (\\n            <div className='App'>\\n                <div className='App-header'>\\n                    <h1>\\n                        <span role='img' aria-label='write'>\\n                            \\uD83D\\uDCDD\\n                        </span>\\n                        React + Amplify NoteApp\\n                    </h1>\\n                    <form className='form-note'>\\n                        <input type='text' className='form-input' placeholder='Add your note' />\\n                        <button type='submit' className='form-button'>\\n                            Add\\n                        </button>\\n                    </form>\\n                    <div>\\n                        {this.state.notes.map(item => (\\n                            <div key={item.id} className='notes-list'>\\n                                <li>{item.note}</li>\\n                                <button className='notes-list-button'>\\n                                    <span role='img' aria-label='delete-button'>\\n                                        \\u274C\\n                                    </span>\\n                                </button>\\n                            </div>\\n                        ))}\\n                    </div>\\n                </div>\\n            </div>\\n        )\\n  }\\n\")), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/1200/1*hJPKmbKYRbLOJM7TwQgm4Q.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"In order to add and access dynamic data, you are going to make use of GraphQL API that we added earlier from the next section.\"), mdx(\"h3\", null, \"How to Run Queries and Mutations in\\xA0AppSync\"), mdx(\"p\", null, \"In GraphQL terms, operations like adding, deleting or modifying data are known as a mutation. If you want to read data, the process is known as a query. In a browser window, open up \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://signin.aws.amazon.com\"\n  }), \"aws management console\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*L1rflwDH-1pEn2LwmP-L7g.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"On the home page like above, click \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AWS AppSync\"), \" and then select the noteapp api ( \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"if you used amplify before, you might a number of APIs, if this is your first time, you will have only one API that was created in the earlier sections.\"), \"). From the sidebar, go to section \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Queries\"), \". This will open a Graphiql interface to run a query or mutation to access data in the current API.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*8u56-4G_NNXvBMptoMP6pg.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Since our app has authenticated enabled, you are required to click on the button \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Login with User Pools\"), \" to run any query or mutation further. This will ask you three input fields, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"clientID\"), \" which can be found in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws-exports.js\"), \" under \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws_user_pools_web_client_id\"), \", the username and password of the app user.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*sgiD2KiHat_OXX9HaOhgCA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Once you log in, it will display the same user name as you must have seen in the navigation of the React app.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*BXCKRdx8ug-R0-fA5xBI7Q.png\",\n    \"alt\": null\n  }))), mdx(\"h3\", null, \"Running the First GraphQL Mutation using GraphiQL interface\"), mdx(\"p\", null, \"On the right side of this GraphiQL interface do you notice that there is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Docs\"), \" section? This is one of the most useful parts of this interface.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*-zi9HAeC2F5hrg6tR0eyvA.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"To run a mutation for the first time, click on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Mutation\"), \" and it will give you all of the mutations available right now.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*bYYitVIXfzISx1NgNL0AAg.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Now to run the mutation, type the following first in the editable interface on the left-hand side.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*fNcplJOULuTL5_ERhL8O-g.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"Take a closer look at the above image. The line number one specifies whether is it going to be a query or a mutation. In our case, right now it is a mutation. The mutation takes a field that you just looked in docs. The function we are supposed to run to add data to the database is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createNote\"), \". This function takes an input object with the field \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"note\"), \". You do not have to specify the field \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \" since it is going to be automatically added by the GraphQL API on running this mutation.\"), mdx(\"p\", null, \"The object from line 4 to 7, returns the data when a mutation is run. Now hit the big play button and you will get the data in return like below.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/800/1*LFTx9NzxQSNVXVyvEAB0pw.png\",\n    \"alt\": null\n  }))), mdx(\"h3\", null, \"Running the Second Mutation from React\\xA0App\"), mdx(\"p\", null, \"Running the mutation from GraphQl interface is cool but not a pragmatic solution for an app. In the React app, the user then submits the form button, should get a dynamic behavior. That is, the data from the input field should be added to the database through GraphQL API.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// App.js\\nstate = {\\n  notes: [],\\n  note: ''\\n}\\n\\nhandleInputChange = event => this.setState({ note: event.target.value })\\n\")), mdx(\"p\", null, \"Modify the state in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App\"), \" component by deleting the hard-coded data and adding a new \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"note\"), \" field with an empty string as its value. This new state field is going to be updated whenever the user types in the input field in the form.\"), mdx(\"p\", null, \"Next, update the input type accordingly by adding \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onChange\"), \" event listener. To run the mutation whenever the user submits the form, create a custom function called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"addNote\"), \" on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<form>\"), \". Also, inside this function, we are going to execute the query \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createNote\"), \". It is the same query that you ran inside the Graphiql interface.\"), mdx(\"p\", null, \"Start by import \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"API\"), \" and graphqlOperation from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws-amplify\"), \". Here, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"API\"), \" is the category and the later is the method to run either a mutation or the query. In the Graphiql interface, we had access to mutation functions through documentation. In React app, we have real-time access to each mutation function, generated by the amplify toolchain. Inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/graphql/mutation.js\"), \" file you will find some mutation functions that we can make use of to create, delete, or update a note in the database. Let us require \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createNote\"), \" from this file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// App.js\\n\\nimport React, { Component } from 'react'\\n\\nimport './App.css'\\n\\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\\nimport awsmobile from './aws-exports'\\nimport { withAuthenticator } from 'aws-amplify-react'\\nimport { createNote } from './graphql/mutations'\\n\\nAmplify.configure(awsmobile)\\n\\nclass App extends Component {\\n  state = {\\n    notes: [],\\n    note: ''\\n  }\\n\\n  handleInputChange = event => this.setState({ note: event.target.value })\\n\\n  addNote = async event => {\\n    const { note, notes } = this.state\\n\\n    event.preventDefault()\\n\\n    const input = {\\n      note\\n    }\\n\\n    const result = await API.graphql(graphqlOperation(createNote, { input }))\\n\\n    const newNote = result.data.createNote\\n    const updatedNotes = [newNote, ...notes]\\n    this.setState({ notes: updatedNotes, note: '' })\\n  }\\n\\n  render() {\\n    return (\\n      <div className=\\\"App\\\">\\n        <div className=\\\"App-header\\\">\\n          <h1>\\n            <span role=\\\"img\\\" aria-label=\\\"write\\\">\\n              \\uD83D\\uDCDD\\n            </span>\\n            React + Amplify NoteApp\\n          </h1>\\n          <form onSubmit={this.addNote} className=\\\"form-note\\\">\\n            <input\\n              type=\\\"text\\\"\\n              className=\\\"form-input\\\"\\n              placeholder=\\\"Add your note\\\"\\n              onChange={this.handleInputChange}\\n              value={this.state.note}\\n            />\\n            <button type=\\\"submit\\\" className=\\\"form-button\\\">\\n              Add\\n            </button>\\n          </form>\\n          <div>\\n            {this.state.notes.map(item => (\\n              <div key={item.id} className=\\\"notes-list\\\">\\n                <li>{item.note}</li>\\n                <button className=\\\"notes-list-button\\\">\\n                  <span role=\\\"img\\\" aria-label=\\\"delete-button\\\">\\n                    \\u274C\\n                  </span>\\n                </button>\\n              </div>\\n            ))}\\n          </div>\\n        </div>\\n      </div>\\n    )\\n  }\\n}\\n\\nexport default withAuthenticator(App, true)\\n\")), mdx(\"p\", null, \"The function \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"addNote\"), \" is the key to the above code snippet. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"API.graphql(graphqlOperation(createNote, { input }))\"), \" method takes up the mutation as the first argument and the input as the second. For brevity, we are just adding a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"note\"), \" field (like we did with the Graphiql interface).\"), mdx(\"p\", null, \"After creating a new note, we need to fetch from the GraphQL API. Using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"async/await\"), \" helps us with that. Define a variable \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"result\"), \" that fetches the result from the mutation and then update the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"notes\"), \" array in the state with spread operator: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"[newNote, ...notes]\"), \". Lastly, after updating the state, clear the value of the input field \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"note\"), \", displayed in the UI by setting it back to an empty string.\"), mdx(\"h3\", null, \"Query all the\\xA0notes\"), mdx(\"p\", null, \"If you trying adding a note item through the input field, it will get displayed on the UI but once you reload the app or the web page, it disappears. The reason is that the App component is currently not been mounted and a query to fetch data from the database is not getting executed right now.\"), mdx(\"p\", null, \"You can open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/graphql/queries.js\"), \" file to get a sneak peek of the query we are looking to execute in this section.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// eslint-disable\\n// this is an auto generated file. This will be overwritten\\n\\nexport const getNote = `query GetNote($id: ID!) {\\n  getNote(id: $id) {\\n    id\\n    note\\n  }\\n}\\n`\\nexport const listNotes = `query ListNotes(\\n  $filter: ModelNoteFilterInput\\n  $limit: Int\\n  $nextToken: String\\n) {\\n  listNotes(filter: $filter, limit: $limit, nextToken: $nextToken) {\\n    items {\\n      id\\n      note\\n    }\\n    nextToken\\n  }\\n}\\n`\\n\")), mdx(\"p\", null, \"To list all the notes on the React UI, we need to execute the query \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"listNotes\"), \". Open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \" file and import it.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// App.js\\n\\n// ... after other imports\\nimport { listNotes } from \\\"./graphql/queries\\\"\\n\\n// ... inside App component\\n\\nasync componentDidMount() {\\n        const result = await API.graphql(graphqlOperation(listNotes))\\n\\n        this.setState({ notes: result.data.listNotes.items })\\n    }\\n\")), mdx(\"p\", null, \"If you took a closer look at the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"listNote\"), \" query in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"queries.js\"), \" file, you will notice two things. First, it doesn't require any second argument since we are fetching all the notes and secondly, all the notes are inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"items\"), \" array. Now, save the file and open up the browser window. You will see all the notes being displayed. Try adding a new one and this time it won't disappear.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/1200/1*VKvIQfxIVEhWH22rAAS7iQ.png\",\n    \"alt\": null\n  }))), mdx(\"h3\", null, \"Deleting a\\xA0note\"), mdx(\"p\", null, \"Since you are now familiar with how mutations work, it will be an easy task to try out deleting a note from the notes list. You can stop reading this tutorial right now and go DIY.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// App.js\\n\\n// ...\\n\\nimport { createNote, deleteNote } from './graphql/mutations'\\n\\n// inside App component, add this\\n\\ndeleteNote = async noteID => {\\n  const { notes } = this.state\\n  const input = { id: noteID }\\n  const result = await API.graphql(graphqlOperation(deleteNote, { input }))\\n\\n  const deleteNoteId = result.data.deleteNote.id\\n\\n  const updatedNotesList = notes.filter(note => note.id !== deleteNoteId)\\n\\n  this.setState({ notes: updatedNotesList })\\n}\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"deleteNote()\"), \" method takes the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ID\"), \" of the note item that has been triggered to be deleted. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"filter()\"), \" is used traverse the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"notes\"), \" array and to update the list with remaining items in it.\"), mdx(\"p\", null, \"Also, do not forget to add \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onClick\"), \" method where you have defined the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"button\"), \" component to delete a note item inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"render()\"), \" method.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"<div>\\n  {this.state.notes.map(item => (\\n    <div key={item.id} className=\\\"notes-list\\\">\\n      <li>{item.note}</li>\\n      <button\\n        className=\\\"notes-list-button\\\"\\n        onClick={() => this.deleteNote(item.id)}\\n      >\\n        <span role=\\\"img\\\" aria-label=\\\"delete-button\\\">\\n          \\u274C\\n        </span>\\n      </button>\\n    </div>\\n  ))}\\n</div>\\n\")), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://cdn-images-1.medium.com/max/1200/1*EOaVK7ImkrvGss_6U9QM1A.gif\",\n    \"alt\": null\n  }))), mdx(\"h3\", null, \"Conclusion\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Challenge:\"), \" You have a task to add the code for updating a note item by yourself. Try it. The mutation is already provided to you in the usual place.\"), mdx(\"p\", null, \"Did you notice the number of lines of code in your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App.js\"), \" file? So much less amount of code than a traditional web app. This gives you an advantage by saving time when building an app and maintaining it afterward.\"), mdx(\"p\", null, \"You can find the complete code for this post in the following Github repository.\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/crowdbotics-apps/react-amplify-app1-2352/tree/master/noteapp\"\n  }), mdx(\"strong\", {\n    parentName: \"a\"\n  }, \"crowdbotics-apps/react-amplify-app1-2352\"))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Resources that are worth a look:\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://aws-amplify.github.io/docs/js/api\"\n  }), \"AWS Amplify API Docs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://dev.to/kkemple/fullstack-serverless-440e\"\n  }), \"Fullstack Serverless\"), \" by \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://medium.com/u/8be181d9f877\"\n  }), \"kurtiskemple\"))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://medium.com/crowdbotics/how-to-quickly-build-and-integrate-a-serverless-react-application-with-crowdbotics-and-aws-amplify-8ffd0dd00a67\"\n  }), \"Originally published at Crowdbotics\"))));\n}\n;\nMDXContent.isMDXComponent = true;"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"79637d34-abf5-5865-9124-9d8fb404a474","prev":{"id":"7241c82a-2c89-55c8-81f1-81b0bff885f6","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"The power of React Native as a framework continues to increase over time. For those who are unfamiliar,  React Native  is a cross-platform framework developed by Facebook. It’s open source and lets you build mobile applications using JavaScript as…","fields":{"title":"How to Build a Web App with React Native","slug":"how-to-build-a-web-app-with-react-native","date":"2019-04-29T00:00:00.000Z"},"code":{"scope":""}},"next":{"id":"d82988ae-31fc-5e24-8a24-011b4462342e","parent":{"name":"index","sourceInstanceName":"blog"},"excerpt":"In this tutorial, you are going to build a chat application using React Native, Expo, and Firebase as the backend service. The application will contain a simple login system using an email address for each specific user. The user will be allowed to…","fields":{"title":"Build a Chat App with Firebase and React Native","slug":"build-a-chat-app-with-firebase-and-react-native","date":"2019-04-24T00:00:00.000Z"},"code":{"scope":""}}}}}